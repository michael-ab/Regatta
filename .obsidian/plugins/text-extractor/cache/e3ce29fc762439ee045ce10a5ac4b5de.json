{"path":".obsidian/plugins/text-extractor/cache/e3ce29fc762439ee045ce10a5ac4b5de.json","text":"תונכתןכתוהחנומםימצע הקיטסיגול,תפשJAVAלעהצקגלזמה 1 סרוקב דמלנ המ? ▪הנכות תוכרעמ לש ןכת ▪תונימא ▪הקוזחתל תולק ▪יונישל תולק ▪ב שומישObject Oriented Design ▪ב שומישDesign Patterns ▪ךילהת לע שגד 2 הקיטסיגול ▪סרוקה לש לדומה ףד וניה סרוקה רתא ▪5 סרוקל תולטמ(תושבי ןקלח ,תוחפ ןקלח) ▪1-4 ןניההבוח תולטמ .ןהידעלב ,סרוקה תא םייסל ןתינ אל ▪תוגוזב תולטמ תשגה! ▪ההז וניה הלטמ לכ לקשמ if (examGrade<=65) finalGrade = examGrade; else finalGrade = 0.75 * examGrade + 0.25 * hwGrade; 3 םיכירצהרזע ▪לדומב עדימה ףדב םיעיפומ לגסה יטרפ ▪ ןכןכ ,הלבקה תועש יטרפ םג ▪דבלב םיישיא םיאשונב ליימב הנעמ ▪ םימורופ–םיגירח םירקמ טעמל , םיימויל תחא םורופה תא קודבא(גג)! ▪ רזע תורפס–לוגרתה תומישרבו האצרהב תטרופמ המישר ▪Google ▪ריהמ 4 תונכות ▪ה תסרג-Java איה תצלמומהJava Standard Edition 15 .ה תא דירוהל ןתינ-Java Development Kit (JDK) תרבח לש רתאהמOracle: http://www.oracle.com/technetwork/java/javase/downloads/index.html ▪ חותיפה תביבס םע דובעל ץלמומEclipse IDE for Java Developersמ הדרוהל תנתינה: https://www.eclipse.org/downloads/packages/release/2020-09/r/eclipse-ide-java-developers 56 Java 101(vsC++) ▪ הטושפ– ןיאpointers ואunions ▪ תנווכומOOP ▪ הניסח–םילחתואמ אל םינתשמב שמתשהל ןתינ אל ▪יטמוטוא לבז ףוסיא ▪ תונוש תומרופטלפ ןיב דיינ דוק(אבה ףקש) ▪בחר תוליבח ףסוא ▪החוטב ▪ןורסח: ומכ תורחא תופש תמועל םיעוציבC++ 78 Java 101-ךשמה ▪בJavaרבד לכהקלחמ ךותב שמוממ תויהל בייח ▪םיילבולג םינתשמ וא תויצקנופ ןיא ▪תכייש הילא הקלחמה ךותב תעצבתמ הדותמ תרדגה ▪ץירהל םיליחתמ ןכיה ? תדותמ שומימMainל תרבעומה הקלחמבJVM ▪מ תוזורחמ לש ךרעמ תלבקמcommand line ▪רבד הריזחמ אל 9 Java 101-ךשמה ▪ יאנתwhileינאילוב הנתשמ לבקל בייח ▪ יאנת יטפשמ(if-else, switch-case, whileדועו ) לש ולאל םימודC++ ▪תאז םע ,רתוי הרימחמ םיסופיט תקידב 10 המןיאב-Java? •תויחנהpreprocessor(ןוגכ,#defineוא#include). •typedef •יטפשמgoto •ינבמםינותנסופיטמstructואunion–םוקמבלכהלא,ןתינשמתשהלב-class •םיעיבצמ(pointers)–הפולחהבוטרתויםיעיבצמלאיהreferences •תסמעהםירוטרפוא(operator overloading) •השרוההבורמ(multiple inheritance)–ןונגנמיפוליחחלצומורתויקוסענשובךשמהב סרוקהאוהםיקשממ(interfaces) •יצבקheader–םימייקקריצבק.javaאלוםימייקיצבקh 1112 Java 101-ךשמה ▪ב ץבוק לכJava ליכמ(בורל ) הקלחמתחאהקלחמה םשכ בורל ומשו דבלב ▪ תדותמMainבAppleTestתינכותה תלחתה הניה ▪Import <my_module>; ▪ תמייוסמ הליבח ךותמ תוקלחמה לכ תא אבייל םג ןתינ 13 Java 101-ךשמה ▪הדותמו הדש לכ רובע השיג ןייצמ םושרל שי ▪public ▪private ▪static finalל ףילחתכ#define ▪ע רושרש\" רוטרפוא י+ 14 Referencesלבז ףוסיאו ▪םיסופיט יגוס ינש ▪ םיטושפdouble, int, longדועו ▪References ▪ וניה ךרעמ וא טקייבוא אוהש הנתשמ לכreference ▪ב םיכרע ףסואל וא ךרעל עיבצמ-heap .ל ליבקמה וניה-pointer ▪המירעה לש רישי לוהינ וא ןורכיז תובותכ לש הקיטמתירא רשפאמ וניא ▪JVMךרוצל םאתהב םיטקייבוא תיטמוטוא ררחשמ ▪ןורכיז תפילד ענומ ▪ל זמר-JVM עצבל ךירצשgarbage collection : תמשהnull 15 האבה םעפב ▪ םע תורכה ךשמהJava ▪Spec 1617 תונכתןכתוהחנומםימצע תפשJAVAלעהצקגלזמה,BASIC PRINCIPLES OF GOOD CODING םיכרעמ ▪םיטקייבוא םה .טקייבוא ומכ םירצונ. ▪םינותנ סופיט לש ךרעמ ירביא: ▪םיטושפ : םיכרעב םילחתואמ\"םיקיר( \"0ותלו רפסמל ,falseינאילובל) ▪םיטקייבוא:null ▪ותריצי רחאל יונישל ןתינ אל ךרעמ לדוג . עובק הדש(final ) םשב ךרעמה לשlength. ▪ןכ , רוזאל השיג\"גרוח \" קרזנו תקדבנExceptionםאתהב. םיידמימ בר םיכרעמ ▪ םיכרעמ לש םיכרעמ תילאוזיו רתוי תצק הרוצבו תוזורחמ ▪ הקלחמה ידי לע גוצייString . רוציל ןתינתחאבתואבה םיכרדה יתשמ ▪String וניהimmutable(יונישל ןתינ אל) ▪StringBuffer וניהmutable(יונישל ןתינ) ▪ הקלחמה םג תמייקStringBuilderמ רתוי םיבוט םיעוציב םע-StringBuffer השיגל המיאתמ הניאש לבא תיליבקמ תוזורחמ-תולועפ ▪ירוטרפוא \"+=\"ו-\"+\" ▪תוישומיש תודותמ ןווגמ :charAt() ,indexOf() ,startsWith() endsWith() ,compareTo() , toUpperCase() ,toLowerCase() המגוד–חמב שומיש ' תיטרדנטסStringTokenizer ב תומייקש ןייצנ-Java קוריפב תוכמותה הז גוסמ תומישמ עוציבל תויללכ רתוי הברה תוקלחמ םגstream יללכ (java.io.StreamTokenizer ) םיירלוגר םייוטיבבו(java.util.regex.) תאלולfor הסרגה\"תיסאלקה\" תרצוקמה הסרגה , תאלול foreach Style Standards ▪Most companies and large projects have coding style standards ▪ Example: Google Java Style ▪ Can get pretty detailed ▪ Indentation, location of curly braces, … ▪In this course we don’t have an official style guide ▪ You can make your coding style decisions ▪ But be self-consistent ▪ In general, follow the conventions of the project you’re working on 9 Basic Rules ▪Now we will talk about several stronger rules ▪Only ones relevant at this point in the course ▪ Basic Java programming ▪Later in the course we’ll see many more rules ▪Code violating these rules is said to have “bad smell” 10 Smelly Example public static int dayOfYear( int month, int dayOfMonth, int year) { if (month == 2) dayOfMonth += 31; else if (month == 3) dayOfMonth += 31 + 28; else if (month == 4) dayOfMonth += 31 + 28 + 31; else if (month == 5) dayOfMonth += 31 + 28 + 31 + 30; 11 else if (month == 6) dayOfMonth += 31 + 28 + 31 + 30 + 31; else if (month == 7) dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30; else if (month == 8) dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31; Smelly Example else if (month == 9) dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31; else if (month == 10) dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30; else if (month == 11) dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31; else if (month == 12) dayOfMonth += 31 + 28 + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30; return dayOfMonth; } 12 Any problems with this code? Don’t Repeat Yourself (DRY) ▪Duplicated code is a risk ▪ Makes code harder to maintain ▪ A bug may exist in more than one copy of the code ▪ You may fix the bug in one place but not the other ▪Don’t be tempted to copy-and-paste 13 Rule of Three ▪A refactoring rule: ▪When the same code is used three times, it should be extracted into a new procedure 14 Smelly Example, 2nd Try public static int dayOfYear( int month, int dayOfMonth, int year) { int[] ml = new int[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30}; for (int m = 1; m < month; m++) dayOfMonth += ml[m]; return dayOfMonth; } 15 Comments Where Needed ▪Write comments ▪ Make the code easier to understand ▪ Make the code safer from bugs ▪ Because important assumptions have been documented ▪Do it judiciously ▪ Tricky parts of the code ▪ Important decisions you made ▪ No need for direct transliterations of code into English 16 while (n != 1) { // test whether n is 1 i++; // increment i l.add(n); // add n to l } Comments Where Needed ▪One kind of crucial comment is a specification ▪ Appears above a method or above a class and documents the behavior of the method or class ▪ More on this next week 17 Fail Fast ▪Code should reveal its bugs as early as possible ▪ The earlier a problem is observed (the closer to its cause), the easier it is to find and fix ▪Static checking fails faster than dynamic checking 18 Smelly Example, 3rd Try public static int dayOfYear( int month, int dayOfMonth, int year) { if (month < 1 || month > 12) { throw new IllegalArgumentException(\"month out of range\"); int[] ml = new int[] {31, 28, 31, 30, 31, 30, 31, 31,30, 31, 30}; for (int m = 1; m < month; m++) dayOfMonth += ml[m]; return dayOfMonth; } 19 Dynamic checking Smelly Example, 4th Try public enum Month { JANUARY, FEBRUARY, MARCH, …, DECEMBER } public static int dayOfYear( Month month, int dayOfMonth, int year) { … } 20 Even better - static checking Avoid Magic Numbers ▪Don’t hardcode constants ▪ Instead, declare the number as a named constant with a good, clear name ▪ Improves readability of the code ▪ Easier to maintain ▪Many magic numbers in our example ▪ Already fixed this with the ml array and enumMonth 21 One Purpose for Each Variable ▪Don’t reuse variables ▪dayOfMonth is reused to compute a different value ▪ Makes code confusing ▪ Instead, introduce variables freely, give them good names, and stop using them when they are not needed ▪Make as many variables and method parameters final ▪ Prohibits reassignment 22 Smelly Example, 5th Try public static int dayOfYear( int month, int dayOfMonth, int year) { if (month < 1 || month > 12) { throw new IllegalArgumentException(\"month out of range\"); int[] ml = new int[] {31, 28, 31, 30, 31, 30, 31, 31,30, 31, 30}; int tmp = dayOfMonth; for (int m = 1; m < month; m++) tmp += ml[m]; return tmp; } 23 Use Good Names ▪Method and variable names should be long and self- descriptive ▪ Can make comments unnecessary ▪Example of awful variable names: ▪ tmp, temp, status, flag, value ▪Method names are usually verb phrases ▪ getDate, isUpperCase, move, append, calculatePayroll, …. ▪Variable and class names are usually nouns ▪ currentList, denominator, courseIsFull, Graph, HashMap, … ▪Interface names are usually adjectives ▪ Iterable, Comparable, … 24 Use Whitespace to Help Reader ▪Use consistent indentation ▪Put spaces within code lines to make them easy to read 25 Smelly Example, 6th Try public static int dayOfYear( int month, int dayOfMonth, int year) { if (month < 1 || month > 12) { throw new IllegalArgumentException( \"month out of range\"); int[] monthLengths = new int[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30}; int result = dayOfMonth; for (int m = 1; m < month; m++) result += monthLengths[m]; return result; } 26 Another Smelly Example public static int LONG_WORD_LENGTH = 5; public static String longestWord; public static void countLongWords(List<String> words) { int n = 0; longestWord = \"\"; for (String word: words) { if (word.length() > LONG_WORD_LENGTH) n++; if (word.length() > longestWord.length()) longestWord = word; } System.out.println(n); } 27Any problems with this code? Don’t Use Global Variables ▪A global variable is a variable that is accessible and changeable from anywhere in the program ▪ In Java, declared as public static ▪Global variables are bad because they hinder modularity ▪ Break locality ▪ Have no access control or constraint checking ▪ Create implicit coupling ▪ Namespace pollution 28 Printing Results ▪Methods should return results, not print them ▪ Prefer toString to printTextualDescription ▪countLongWords sends result to the console ▪ If the result is needed for some other purpose, cannot be reused ▪Only the highest-level parts of a program should interact with the human user or the console 29 Avoid Long Parameter Lists ▪Hard to remember and error-prone ▪ Aim for four parameters or fewer ▪Especially error-prone if parameters are all the same type ▪Avoid methods that take lots of boolean “flag” parameters 30 האבה םעפב ▪טרפמ תולאש? תונכתןכתוהחנומםימצע SPEC הטשפהו קוריפ–םיגשומ תרוכזת ▪ קוריפ(decomposition) ▪תויולת יתלב תויעב תתל היעב קלחל רשפאמ .נה תויעבהמ דחא לכ\"יאמצע ןפואב תשמוממ ל. ▪ הטשפה(abstraction) ▪יתיצמת ןפואב ליעומ ןפואב קוריפה תא עצבל ךרד ▪תואמגוד : הקולחתורגשל ,OOP ▪ טרפמ(spec) ▪םיעמשמ דחו םיקיודמ תויהל תנמ לע ,טרפמ שורד . ראתמ טרפמהקרשומימה יטרפ תא אלו הטשפהה תא. דועיתה ללוכ המ ▪@requires–הטשפהה תרדגומ םתחתש םיצוליאה תא הריהצמ. ▪ םימייק רשאכ השורדםיטלק הדותמה םרובעהניאתרדגומ. ▪רשפאה תדימב הטמשהל תנתינ ▪@modifies-תונשל הלולע הדותמהש םיטקייבואה תומש תא תנייצמ. ▪רשפאה תדימב הטמשהל תנתינ ▪@effects– לכ רובע הדותמה תוגהנתה תא תראתמםיטלקהע ולספנ אלש\" תקספ י ה@requires . ▪ב םינותנה רובע םייונישה תאו םיטלפה תא הרידגמ@modifies ▪הטמשהל תנתינ אל המגודהמגוד ךשמה טרפמ\"קזח\"/\"שלח \"רתוי ▪ טרפמקזח רתוי לבקל לוכיש טרפמ אוה רתויםיטלק , טלפה יבגל יפיצפס רתוי אוהש וא רצוי אוהש . ▪ טרפמשלח תא רתוי ליבגמש טרפמ אוה רתויםיטלקה יללכ אוהש וא לבקל ןכומ אוהש רצוי אוהש טלפה יבגל רתוי ▪ינשהמ רתוי קזח היהי דחא טרפמש ידכ דחיב םייקתהל םיכירצ םיאנתה ינשש בל ומיש , וא תורחא םילימב , טרפמS1 טרפממ קזח רתויS2מא\"ם: ▪S1מ םיטלק רתוי לבקל רשפאמ-S2 ▪S1מ טלפה יבגל יפיצפס רתוי-S2 ▪ תניחבמ תוושהל ןתינ אל וב בצמ םייקתהל לוכי טלחהב\"הקזוח \"םיטרפמ ינש ןיב בוש רכזנ ןתינ דציכ\"טימשהל \" תקספ תא ה@requiresהזה הרקמב? בוט טרפמ לש תונוכת ▪ םוצמצ(restrictiveness )– לכ תא לולשיש ךכ קיפסמ םצמוצמ תויהל טרפמה לע ע םיליבק יתלב םהש הטשפהה לש םישומימה\"וז הטשפהב םישמתשמה י . ▪ תויללכ(generality )- לש םיליבק םישומימ לולשי אלש ךכ קיפסמ יללכ תויהל טרפמה לע הטשפהה . ▪ תוריהב(clarity)-תיעמשמ דח הנבהל לקו רורב Javadoc ▪ה םעJDK ילכ ןקתומJavadoc .נה הרוצב םימושרה םיטרפמ םגרתל רשפאמ\" יצבקל לHTML הספדהו האירקל םיחונ. ▪ תואקספמ קלחJavadoc ונרדגהש תואקספה שולשל תוליבקמ תויטרדנטסה( תוחפ ןפואב קר יללכ:) ▪ תקספ@param –םיגציימ םהש םיכרעה תאו הדותמה לש םירטמרפה תא תראתמ . םושרל שי רטמרפ לכל תקספ@paramתדרפנ. ▪ תקספ@return –הדותמה הריזחמ ותואש ךרעה תא תראתמ ,הזכ שי םא. ▪ תקספ@throws –הגירח לכ תקרזנ םיאנת הזיאבו קורזל היושע וז הדותמש תוגירחה תא תראתמ . הגירח לכל תקספ םושרל שי@throwsתדרפנ. ▪ב שמתשנ ונא@requires, @modifies, @effects , ליעל תורכזומה תואקספה שולשו הדימב ךא רואיתל תוקיפסמ ,ןהב םג שמתשהל ןתינ. ▪ךרוצה תדימב ןהב שמתשהל ןתינו תופסונ תואקספ תומייק האבה םעפב ▪היצלוספקנא ▪םיטקייבואו תוקלחמ ▪Representation invariant and abstraction function ןוינכטה– לארשיל יגולונכט ןוכמ למשח תסדנהל הטלוקפה 046271 - ןכתו תונכת םימצע החנומ תימצע האירקל רמוח :טלפ/טלק 1 השמ ריאי י\"ע בתכנ טלפ/טלק ת תובורק םיתעל לבקל הכירצ תינכ איצוהל וא ינוציח םרוגמ םינותנ םייושע םינותנה .הזכ םרוגל םינותנ וא תשרב ,ןורכיזב ,ץבוקב תויהל םייושע םג םינותנה .תרחא תינכותב לכב .םיבכרומ םיטקייבואב הלכו םיטושפ םיוותב לחה ,םינוש םיסופיטמ תויהל ,הרקמ ךות הלא םירקמב לפטל ןתינ ,)תיארקא השיגב אלו( םיבקוע םינותנב רבודמו הדימב תפתושמ הטשפהב שומיש ה( םרז תארקנstream םינותנ לש םרז תחתופ תינכותה .) ןפואב םינותנה תא תבתוכ וא םינותנה תא תארוקו םיאתמה ינוציחה םרוגל רשוקמה .יתרדס הליבחהjava.io הליכמ תא קלחל ןתינ .םינוש םימרז תושמממה תוקלחמ לש לודג ףסוא .)םינותנה יסופיט ראש לכ( םיתב לש םימרזלו )טסקט( םיוות לש םימרזל הלא תוקלחמ הקלחמהמ םישרוי האירקה ימרז לכ ,םיוות רובעReader םישרוי הביתכה ימרז לכו הקלחמהמWriterתוקלחמל תואמגוד . מ תושרויה-Reader :ןה FileReader, BufferedReader, PipedReader, CharArrayReader, StringReader מ תושרויה תוקלחמל תואמגוד-Writer :ןה FileWriter, BufferedWriter, PipedWriter, CharArrayWriter, StringWriter, PrintWriter הקלחמהמ םישרוי האירקה ימרז לכ ,םיתב רובעInputStream םישרוי הביתכה ימרז לכו הקלחמהמOutputStream תוקלחמל תואמגוד .מ תושרויה-InputStream :ןה FileInputStream, PipedInputStream, StringBufferInputStream, ByteArrayInputStream, DataInputStream, ObjectInputStream טלפ/טלק :תימצע האירקל רמוח 2 מ תושרויה תוקלחמל תואמגוד-OuputStream :ןה FileOutputStream, PipedOutputStream, ByteArrayOutputStream, ObjectOutputStream מ תושרויה תוקלחמ רובע-Reader מ וא -InputStream הדותמה תרזעב תישענ האירקה , read()מ תושרויה תוקלחמ רובע . -Writer מ וא-OutputStreamביתכה , תרזעב תישענ ה הדותמהwrite(). :ץבוק הקיתעמה תינכותל המגוד import java.io.*; public class FileCopy { public static void main(String[] args) throws IOException { Reader in = new FileReader(\"frog.txt\"); Writer out = new FileWriter(\"prince.txt \"); int c; while ((c = in.read()) != -1) out.write(c); in.close(); out.close(); } } לש עפומ תרצוי תינכותהFileReader ו עפומ לשFileWriter תרזעב האירק תעצבמ האלולה . הדותמהread() המ לש עפומFileReader לכ רחאל .ץבוקהמ עיגמש טלקה םויסל דע לש עפומהמ ות תאירקFileReader הדותמה תרזעב בתכנ אוה ,write() לש עפומה לא FileWriterםויסל ., הדותמה .םיצבקה ינש םירגסנmain ( הגירח תקרוזexception הרקמב ) לשטלפב וא טלקב האיגש . יכ בל ומיש הז דוקב תוגירחב לופיטה האבה המגודב םגו וניא ש םושמ ,תוטשפ םשל ,ילאידיאנ ב קוסעתוגירח ב טוריפ רתיסרוקה ךשמהב. :םימרזב שומישל תפסונ המגוד import java.io.*; public class DataStream { public static void main(String[] args) throws IOException { // Read filename from standard input BufferedReader stdin = new BufferedReader( new InputStreamReader(System.in)); System.out.print(\"Please enter a valid filename: \"); String fileName = stdin.readLine(); // Store & recover data DataOutputStream outStream = new DataOutputStream( new BufferedOutputStream(new FileOutputStream(fileName))); טלפ/טלק :תימצע האירקל רמוח 3 outStream.writeDouble(3.14159); outStream.writeUTF(\"That was pi\"); outStream.writeDouble(1.41413); outStream.writeUTF(\"Square root of 2\"); outStream.close(); DataInputStream inStream = new DataInputStream( new BufferedInputStream(new FileInputStream(fileName))); System.out.println(inStream.readDouble()); System.out.println(inStream.readUTF()); System.out.println(inStream.readDouble()); System.out.println(inStream.readUTF()); inStream.close(); } } םשב ץבוקל תבתוכ איה ןכמ רחאל .שמתשמהמ ץבוק םש לש האירק תעצבמ תינכותה הקינכטה תא םיאור ונא וז תינכותב .ךסמל םתוא הסיפדמו םתוא תארוק ,םינותנ הז ( תפיטע לשwrapping.רחאב דחא םרז ) טקייבואהSystem.in אוה לש עפומInputStream םיעפומ םג םימייק( תדלקמל רשוקמה לש םימודSystem.out לשוSystem.err לש עפומ .)InputStreamReader ידכ הז םרז ףטוע לש עפומו םיוות םרזל ותוא םגרתלBufferedReader ןאכ השענ .הז םיוות םרז ףטוע ב שומיש-BufferedReader ישה הדותמה תא ליכמ אוהש םושמ תישומreadLine(). לש עפומב שומיש השענ ,ץבוקל בותכל ידכFileOutputStream עפומ י\"ע ףטענ הז עפומ . לשBufferedOutputStream לש עפומ י\"ע ףטענ אוהו ,קסידל רתוי הליעי הביתכ רוציל ידכ DataOutputStream תרזעב תישענ הביתכה .םיטושפ םיסופיט תביתכ רשפאל ידכ תודותמהwriteDouble() ו-writeUTF() לשDataOutputStream תפש .Java ות לכ תנסכאמ ב-16 טמרופב תויביסUnicode הדותמה .writeUTF() לכ בותכלו םוקמ ךוסחל תרשפאמ יוותב קר םישמתשמ רשאכ ,ןבומכ ,תאז .דיחי תיב תרזעב םרזל ותASCII. לש עפומב שומיש השענ .האירקב עצבתמ ל\"נכFileInputStream לש עפומב ףטענה BufferedInputStream לש עפומב ףטענהDataInputStream תרזעב תישענ האירקה . תודותמהreadDouble() ו-readUTF() לשDataInputStream. :הרעהב-Java םג תמייקליבחת השדח טלפ/טלק רתוי םיעוציבו הרוטקטיכרא תלעב תארקנ וז הליבח .םירפושמjava.nio ה תליבח(-new I/O) תולוכיהמ קלח הפילחמ איהו לשjava.io . .ךרוצה יפל ,הב םג שמתשנו ןכתי סרוקה ךשמהב תונכתןכתוהחנומםימצע היצלוספקנא,תוקלחמםיטקייבואו, REPRESENTATION INVARIANT,ABSTRACTION FUNCTION Object Oriented Design ▪ בצמ שי טקייבוא לכל(state ) תוגהנתהו(behavior.) ▪תודש לש ףסוא וניה בצמ/עפומ ינתשמ ▪תולועפ ףסוא ןניה תויוגהנתה , תוארקנהתודותמ .הניחבל השיג תוקפסמ/בצמה לש יוניש. יגוסתודותמ ▪mutators– רשא תודותמתונשמ תאובצמטקייבואה לש. ▪observers– תודותמעדימ תוריזחמהטקייבואה תודוא. ▪creators– תודותמתורצויה הקלחמה לש שדח עפומ=(יאנב.) ▪producers– תודותמתוריזחמההקלחמה לש שדח עפומ. ADT – Abstract Data Types ▪תירבעב וא:םיטשפומ םינותנ יסופיט. ▪ע םירדגומ\"םיקשממו תוקלחמ י ▪קשממ ןיבל הקלחמ ןיב לדבהה המ? המגוד:םיינפוא ▪ תודותמה\"תופטוע \"עפומה ינתשמ תא. ▪ ותוגהנתה תרזעב טקייבואה בצמ תא ריתסנ(היצלוספקנאההגהל טושפ רתוי םשב וא:סומיכ) ▪תונורתי? ▪שומישה תא תטשפמ ▪ תונשל ול רוסאש םיימינפ תודש תונשל ינוציח םרוגמ תענומ(locality) ▪ הקלחמה יונישב תולק(modifiability) ▪ תוגהנתה התוא תויהל הלוכי הקלחמ התוא לש םינוש םיטקייבואל(behavior ) בצמ לבא(state )הנוש םיינפוא ךשמההמגוד םיינפוא ךשמההמגוד תולימהשיג ▪public –דוקב םוקמ לכמ תירשפא השיגה. ▪private –תיחכונה הקלחמה ךותמ קר תירשפא השיגה. ▪package –תיחכונה הליבחב םוקמ לכמ תירשפא השיגה . תפשב םוקמ לכבJava , הדימב השיג תאשרה הניוצ אלו ,packageלדחמה תרירב איה. ▪protected –תת ךותמ םגו תיחכונה הליבחב םוקמ לכמ תירשפא השיגה- תושרוי תוקלחמ ( תפשב תועמשמהמ ינוש ןאכ שיC++.) םינתשמתודותמוםייטטס ▪ הנתשמstatic–ךייושמעפומל אלו הקלחמל .ןורכיזב דחא קתוע םייק ▪ תדותמstatic ▪ תשגל וללה תודותמל רתומקרהקלחמ ינתשמל ▪ הקלחמה תרזעב ליעפהל ןתינ(ץלמומ ) הקלחמה לש עפומ תרזעב וא(ץלמומ תוחפ.) יוקינו לוחתא ▪םיטקייבוא לש לוחתא חיטבהל תנמ לע , יאנב הקלחמ לכל בותכל ןתינ(constructor.) ▪הקלחמה םשל ההז םש לעב , ךרע ריזחמ וניאו( אל םגvoid.) ▪הקלחמ רובע יאנב בותכנ אל םא ,רצווי לדחמ תרירב יאנב הל(default constructor .)תרחא , אל רצוויהזכ דחא הל . ▪םילחתואמ אל םינתשמ ▪ יטמוטוא לוחתא-טקייבוא לא תודש םהש טושפ סופיטמ םינתשמ ▪ רודיה תאיגש–הדותמל םיימוקמ ינתשמ ▪ב-Java לש ןונגנמ ןיאdestructors ב ומכC++ , תדותמ הקלחמ לכל בותכל ןתינ לבאfinalize() ▪ לש לבז ףוסיא עצבתי רשאכ ארקית הדותמהטקיבואה Abstraction Function & Representation Invariant ▪טשפומ םינותנ סופיט םיששממ רשאכ , גוציי םירחוב(representation ) סופיטה עפומל גוצייה יחנומב תולועפה תא םישמממו . ▪הז םינותנ הנבמל עגונב תומכסומ ףסואו םינותנ הנבמ אוה גוצייה. ▪Representation Invariant– ףסוא תא ראתמםיכרעהםינותנ הנבמל םירתומה. ▪Abstraction Function– שרפנ דציכםיכרעולא\" .טשפומה סופיטל שומימהמ יופימ\" המגוד המגוד(2) המגוד(3)checkRep() ▪ תאו הדותמ לש התונוכנ תא קודבל תנמ לעRepresentation Invariant , םשב הדותמ םיבתוכ checkRep(). ▪ הל אורקל גוהנתוחפה לכלםיאבה םירקמה לכב: .1יאנבהמ האיציב .2 איהש הדותמל הסינכ לכבpublic .3 איהש הדותממ האיצי לכבpublic ▪ הרומשה הלימב שמתשהל גוהנassert ▪ תקרוזAssertionErrorםייקתמ אל הירחא אבש יאנתהו הדימב ▪תינכותה תא הקיספמ ▪ שומישב תונורתי המassert? Representation Exposure ▪ה תקידב םאה-representation invariantרמשנ אוהש דימת החיטבמ? ▪אל.לש הרקמב רפומ תויהל לולע אוהRepresentation Exposure ▪טקייבואה לש גוצייל תינוציח השיג שי רשאכ הרוק ▪תונשל לוכי ינוציח שמתשמ םהב םיבצמל ליבוהל לולע/ףיסוהל/ לש תודש קוחמל הקלחמב םיטקייבוא המגודןחבממ(1)–דעומב'ביבאסשת\"ט שת ףרוח\" ע-2010–ב דעומ' עשת ףרוח\" ח–2018–א דעומ' המהיעבהשומימבOffice?(זמר:המונדמללוגרתביחכונה?) ןאכ שיRepresentation Exposure לופכ. תומישרהמ םירביא דירוהל וא ףיסוהל םג ןתינcustomers, employees תא תונשל ףאו לכ לש ןכותה לכEmployeeהמישרב. עשת ףרוח\" ח–2018–א דעומ' שי ןיידעRepresentation Exposureלופכ. תפסוהfinalה תא תעבקמ קרreferenceהמישרה לש. תפסוה אלל םגfinal ,ה תא תונשל לוכי אל ינוציח שמתשמreference דחא ףא לש תומישרהמ םאהיונישהנה\"לרתופתאהיעבהתירוקמהתקלחמבOffice?המהיהתהעפשהה לשיונישה? Observer עשת ףרוח\" ז–2017–א דעומ' ProducerMutatorCreatorProducer האבה םעפב ▪הבכרהו השרוה תולאש? ןוינכטה– לארשיל יגולונכט ןוכמ למשח תסדנהל הטלוקפה 046271 - חנומ ןכתו תונכת םימצע ה תימצע האירקל רמוח: יפרג שמתשמ קשממ 1 השמ ריאי י\"ע בתכנ יפרג שמתשמ קשממ ה תליבח-Swing יפרג שמתשמ קשממ רוציל תרשפאמ (GUI - Graphical User Interface) ב-Java תליבח לע תססובמ איה . ה-AWT לש תוקלחמה לכ .התוא הביחרמו רתוי תנשוימהSwing ב תואצמנ הליבחjavax.swing הלא תוקלחמ לש עירכמה ברה . הקלחמהמ שרויJComponent תואב ליחתמ ןמשוJ לשמל ,JLabel ואJFrame. ןתינ .תולקב יפרג שמתשמ קשממ רוציל תורשפאמ תוילאוזיו חותיפ תוביבס :הרעה ( ויתונוכת תא תונשל ,שמתשמה קשממ תא \"רייצל\"properties רצונ םיאתמה דוקהו ) םע .יטמוטוא ןפואב רבעמ םהש םירקמבו ,רצונה דוקה לש הנבהל ףילחת ךכב ןיא ,תאז .הז דוק לע ףיסוהל ךרוצ שי םיילאיווירטל :יפרג שמתשמ קשממ תריציל המגוד import javax.swing.JFrame; import javax.swing.JLabel; public class HelloSwing { public static void main(String[] args) { JFrame frame = new JFrame(\"HelloSwing\"); final JLabel label = new JLabel(\"Hello World, Hello Swing\"); frame.getContentPane().add(label); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.pack(); frame.setVisible(true); } } :האצותהו לכב .יפרג שמתשמ קשממ תיינב לש ינייפוא הנבמ הגיצמ איה ךא הטושפ םנמא וז המגוד טקייבוא שי הזכ קשממcontainer הזכ טקייבוא .םירחאה םיטקייבואה תא ליכמה לש עפומ אוה תובר םירקמבJFrame לש םיעפומ ןה תורחא תויורשפא(JApplet ,JWindow ואJDialog תוקלחמ לש םיעפומ םה קשממב םירחאה םיטקייבואה לכ .)Swing תורחא ה טקייבואל םתוא ףיסוהל שיו-container לש עפומ רצונ המגודב .JFrame םשבframe לש עפומוJLabel םשבlabel לש הפסוה תעצבתמ ןכמ רחאלוlabel ל-frame. תימצע האירקל רמוח: יפרג שמתשמ קשממ 2 פכה לע הציחלש החיטבמ המגודב האבה הרושהת לש ןוילעה ינמיה רוframe םורגת לש םלדוג תא תונשמ תונורחאה תורושה יתש .תינכותה םויסלframe לשוlabel לדוגל .ךסמה לע םתוא תוגיצמו ילמיטפוא םיעוריא לדומ ,תדלקמה לע שיקמ וא רבכעה לע ץחול שמתשמהש םעפ לכב ( עוריא שחרתמevent םיוסמ טקייבואב שחרתמ הז עוריא .) ( עוריאה רוקמ אוהשevent source לוכי רחא טקייבוא לכ .) ןיזאמכ עוריאה רוקמ אוהש טקייבואב םושיר י\"ע הז עוריא תושחרתה לע חוודמ תויהל ( הז עוריאלevent listener.םיניזאמ רפסמ םשריהל םילוכי עוריא רוקמ לכל .) הקלחמה לש עפומ אוה עוריאjava.util.EventObject ,לשמל ,היאצאצמ דחא לש וא לש FocusEvent ואMouseEvent ,לשמל ,שחרתהש עוריאה לע עדימ ליכמ הז עפומ . יסופיטל תואמגוד .שקוהש ותה וא ץחלנ רשאכ רבכעה היה ןהבש תוטנידרואוקה :ןה םינוש םיעוריאל םיניזאמ ComponentListener טקייבואה םהב םיעוריאל ןיזאמ( אבחומ/)הנתשמ ולדוגש וא זזומ ,הלגתמ ,FocusListener טקייבוא וב עוריאל ןיזאמ( לבקמ/ )תדלקמה לש סוקופה תא דבאמ ,KeyListener קהל ןיזאמ(תוש )תדלקמה לע , MouseListener )רבכעה תוציחלל ןיזאמ( ,MouseMotionListener תוזוזתל ןיזאמ(ס ןמ )ךסמה לע רבכעה ,ActionListener אוה וילאש טקייבואב תולתכ םינוש םיעוריאל ןיזאמ( )ןיזאמ ותוא םושרלו ולש עפומ רוציל ,םיאתמה ןיזאמה סופיט תא שממל ןיזאמ לכ לע . ול רבעויו ןיזאמה לעפוי ,עוריאה תושחרתה תעב .עוריאה שחרתהל יושע ובש טקייבואב .שחרתהש עוריאה תא גציימה טקייבוא לש שומימ ןאכ שיObserver design pattern דוע( לעdesign patterns)סרוקה ךשמהב ,. תימצע האירקל רמוח: יפרג שמתשמ קשממ 3 :המגוד import java.awt.GridLayout; import java.awt.event.ActionEvent; import java.awt.event.ActionListener; import javax.swing.*; public class EventHandling { private static String labelPrefix = \"Number of button clicks: \"; private int numClicks = 0; public JComponent createComponents() { final JLabel label = new JLabel(labelPrefix + numClicks); JButton button = new JButton(\"I'm a Swing button!\"); button.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent e) { numClicks++; label.setText(labelPrefix + numClicks); } }); label.setLabelFor(button); JPanel panel = new JPanel(); panel.setBorder(BorderFactory.createEmptyBorder(30, 30, 10, 30)); panel.setLayout(new GridLayout(0,1)); //any number of rows, 1 column panel.add(button); panel.add(label); return panel; } public static void main(String[] args) { //Create the top-level container and add contents to it. JFrame frame = new JFrame(\"Event Handling Example\"); EventHandling app = new EventHandling(); JComponent contents = app.createComponents(); frame.getContentPane().add(contents); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.pack(); frame.setVisible(true); } } תימצע האירקל רמוח: יפרג שמתשמ קשממ 4 :האצותהו .דחאב הנומה תא םדקת רותפכה לע הציחל לכ הדותמהcreateComponents() הקלחמה לש עפומ תרצויJPanel םשבpanel .ותוא הריזחמו איה וז הקלחמcontainer לש עפומ הליכמ איה הז הרקמבו ,JButton םשבbutton עפומו לשJLabel םשבlabel. ב םילכומה םיטקייבואה תא רדסל ידכ-panel םיפיסומ ,ךסמה לע ל-panel טקייבואו תרגסמ טקייבוא( רודיסlayout.) ינכותוב תובותכה ת-Java תויושע המרופטלפ לכל .תונוש תומרופטלפ לע ץורל תודעוימ היצולוזר ןוגכ ,תונוש הגוצת תולוכי תויהלא הנושו םיעבצ רפסמ הנוש ןויגיה ןיא ןכל . ב םייקה יפוליח ןונגנמ .ךסמה לע םיטקייבוא לש יטולוסבא םוקימב-Swing ףסוא אוה וקלחמ לש .ךסמה לע םיטקייבוא ורדוסי הבש ךרדב טולשל תורשפאמה םירודיס ת הקלחמב שומיש השענ הנורחאה המגודבGridLayout ,הז הרקמב .תשר לש הרוצ תרצויה תומייקש םירודיסה תוקלחמ .לבגומ יתלב תורוש רפסמו תחא הדומע תלעב איה תשרה ב-Swing :ןה • FlowLayout - לדחמה תרירב .הרושב רודיס םיטקייבואה בר לש םהשcontainer. • BoxLayout - ב וא הרושב רודיסט.רו • BorderLayout - ליכמה טקייבואה תולובגל סחיב רודיס. • CardLayout - א ותואב םינוש םיטקייבוא רודיסםינוש םינמזב רוז. • GridLayout - .ההז לדוגב םיאת תלעב םיאת תשרב רודיס • GridBagLayout - דחא אתמ רתוי לע ערתשהל לוכי טקייבוא לכשכ םיאת תשרב רודיס. • SpringLayout - םיטקייבואה לש תופשה ןיב םיסחי תרדגהל םאתהב רודיס. של .הציחלה עוריאל ןיזאמ טקייבוא רוציל שי ,רותפכה לע הציחל לש עוריאב לפטל ידכ ם הדותמב שומיש השענ ךכaddActionListener() לשbutton לש עפומ תלבקמ וז הדותמ . ( םיאתמ ןיזאמActionListener תקלחמ לש הרדגהה .עוריאב לפטמכ ותוא תמשורו ) הדותמל האירקה ךותב ןהיתש תועצבתמ )םש אלל( הלש עפומה תריציו ןיזאמה addActionListener()מ שממל הכירצ וז הקלחמ . םשב תחא הדותactionPerformed() . לבקת זאו )רבכעה לע הציחל( עוריאה תושחרתה תעב תיטמוטוא לעפות וז הדותמ םשב טנמוגראכe טקייבוא לש וז הרדגה ךרד .הז עוריא לע עדימ גציימה טקייבוא ,ןיזאמ תארקנהanonymous object, םושמ תלבוקמ יד איה ךא ,הליחתב ההומת תוארהל היושע הש.דוק תביתכב תכסוח אי Swing לחה ,םוצע אוה ןווגמה .תונווגמו תובר תוקלחמ הליכמ איהו הלודג הליבח איה :ומכ תיסחי תוטושפ תוקלחמבJLabel ,JButton ,JComboBox ,JListBox ,JSlider הלכו , תימצע האירקל רמוח: יפרג שמתשמ קשממ 5 :ומכ תובכרומ תוקלחמבJTextPane ,JTable ,JTree ,JFileChooser ,JColorChooser , JSplitPane ,JTabbedPane !תולגלו המינפ לולצל םינמזומ םתא . ( יפרגה שמתשמה קשממ תדרפה לע דיפקהל שי הנכות תביתכ תעב :הרעהGUI ) ( הקיגולהמbusiness logic יפרגה שמתשמה קשממ ילאידיא ןפואב יכ איה הנווכה .) וזכ הרוצב תודרפנ תוקלחמב םישמוממ תויהל םיכירצ הקיגולהו אלל לועפל ולכויש .ךפהלו ,הקיגולה יוניש אלל יפרגה קשממה תא תונשל היהי ןתינ ,רמולכ .הזב הז תולת תונכתןכתוהחנומםימצע לוגרתסמ'5:השרוההבכרהו 1 הרדגה ▪ הבכרה(Composition )– ךותב יהשלכ הקלחמ לש עפומ םיווהמש םיטקייבוא תריצי םידבוע ונחנא הב הקלחמה. ▪ השרוה(Inheritance )–תמייק הקלחמ לש סופיטהמ השדח הקלחמ תריצי . לש השורי תונוכת. 2 המגודהשרוהל ▪RoadBikeתת איה- לש הקלחמBicycle (subclass) ▪Bicycle לע הקלחמ איה(superclass ) לשRoadBike 3 תונוכתלשהשורי ▪ תוגהנתה תשורי=(תודותמ ) בצמהו=(תודש )לעה הקלחמ לש ▪הלש םינומדקה ללכ לשו ▪הרעה :לעה תקלחממ השרוהל ןתינ וניא ןכלו הדותמ וניא יאנב ▪ סורדל ןתינ(Overriding )ע לעה תקלחמ לש הדותמה תא\"שדחמ שומימ י ▪תודותמ ףיסוהל םג ןתינ/ םיפסונ תודשתתב-הקלחמה ▪תחא לע תקלחממ קר תשרל ןתינ 4 המגוד 5 המגוד(2) 6 םיגשומםיטנוולר ▪extends– הרומש הלימהשרוהל ▪דוגינבל-C++ ,ב-Javaדבלב תחא הקלחמ תשרל ןתינ ▪super–תוגהנתהב שמתשהל םיניינועמ רשאכ/ בצמםימייוסמלעה תקלחמ לש , ןתינ הלימב שמתשהלsuper. ▪Override–היצטונא . הניה הדותמה יכ ריהצהל תנמ לע םישמתשמ\"תסרוד\" ▪שומישל תצלמומ ,תסרוד הדותמ תמאב אל םא ריהזמ רדהמהש ןוויכ ▪ארוקל דמחנ 7 הדותמ תסירד ההז תויהל הכירצ תסרודה הדותמה לש המיתחה ,ב טעמל3םירקמ: ▪תתב תודשו תודותמ רובע השיגה תולימ- תורימחמ תויהל תולוכי הקלחמתוחפלעה תקלחממ ▪ יבגל המprivate? ▪ תונוש תוגירח קורזל הלוכי הקלחמ תתב תסרוד הדותמ ▪לעה תקלחמ תקרוזש תוגירח קורזל אל הלוכי ▪תת ןהש תוגירח קורזל הלוכי-לעה תקלחמב תקרזנש הגירחה לש תוקלחמ ▪קורזל ןתינש תוגירח לש םיפסונ םיגוס םימייק ▪תת תויהל לוכי תסרודה הדותמב רזחומה סופיטה- תקלחמב תירוקמה הדותמב רזחומה סופיטה לש סופיט לעה. ▪ המםיאנב יבגל? 8 לוחתאתת-הקלחמ ▪תת-לעה תקלחמ טרפמ תא הקיתעמ אל הקלחמ ,לעה הקלחמ לש עפומ הליכמ אלא ▪הקלחמה תת לש עפומ לוחתא תעב ,בייחלעה תקלחמ עפומ תא לחתאל ▪הקלחמה תת לש יאנבב הנושארה הלועפה ,לעה תקלחמ עפומ תא לחתאל היהי ▪ע\" י הלימב שומישsuper ▪דוקב העיפומ אל לוחתא לש הלועפ םא הרוק המ? 9 המגוד 10 המגוד(2) 11 protected ▪ התואבש ימ לכל הדשל וא הדותמל השיג רשפאתתש איה תועמשמה יכ בוש ריכזנ הליבחה/הקלחמהמ שרוי. ▪ב שומיש טיעמהל הסננprotected הקלחמ לש טרפמהמ קלח וניאש המ לכ רידגהל ףאשנו כprivate. 12 הבכרהואהשרוה? ▪ השרוה– לש רשק םייקתמis-a ▪ הבכרה– לש רשק םייקתמhas-a ▪המגודל: יאדנוי תינוכמ ▪השרוה . לש הקלחמ תתCar ▪המגודל(2 :)תינוכמ הגה ▪הבכרה :A car has a wheel 13 ןורקעהפלחהה -המגוד ▪Wind םוקמבInstrument? ▪Upcasting\"הלעמל הרמה\" 14 ןורקיעהפלחהה ▪הלש לעה תקלחמ לש טרפמה תרזעב הקלחמ תתב שמתשהל ןתינ ▪םיאנת ינש םייקתהל םיכירצ ▪תתב הדותמ לכ לש תרתוכה- תויהל הכירצ הקלחמ\"תוחפל \"לעה תקלחמב המיאתמה הדותמה לש ומכ ▪ע תיטמוטוא ףכאנ\" לש השרוהה ןונגנמ יjava . ▪םייקתמ הז יאנת רשאכ , איה תחא הקלחמ יכ םירמוא ונאJava subtypeתרחא הקלחמ לש ▪תוקלחמה תתב םג הנוכנ תויהל הכירצ לעה תקלחמב תודשהו תודותמה לש תועמשמה ▪ תנכתמה תוירחאב(ל תופסונ תונוכת ףיסוהל אל@requires, @modifies , ףיסוהל יוצר@effectsרתוי םייפיצפס תויהל תנמ לע.) ▪םייקתמ הז יאנת רשאכ , איה תחא הקלחמ יכ םירמוא ונאtrue subtypeתרחא הקלחמ לש . 15 השרוה–םזגומ שומיש םייק םאה? ▪שימג תוחפ הנבמ ▪ ןורקיע תא רובשל הלוכיסומיכההלש תוקלחמה תתל לעה תקלחמ ןיב ▪ םג ארקנfragile base class problem 16 תולאש? 171718192021 תונכתןכתוהחנומםימצע תוקלחמתוטשפומ,םיקשממ,ברתויתרוצ 1 תוטשפומ תוקלחמ ▪ םיישחומ םיטקייבוא יסופיט וגצייש תוישחומ תוקלחמב ונקסע הכ דע(לשמל םיינפוא) ▪אלמ שומימ ▪טשפומ טקייבוא גציימה סופיט רידגהל הצרנ םיתעל ▪ןוזמ לשמל ▪הלש טרפמל יקלח שומימ רתויה לכל תקפסמ תוטשפומ הקלחמ 2 תוטשפומ תוקלחמ–תודבוע המכ ▪ תוטשפומ הדותמ ארקת תוטשפומ הקלחמב שומימ אלל הדותמ(abstract.) ▪תוחפל תחא תטשפומ תדותמ הליכמה הקלחמ לכ ,תטשפומ הקלחמ חרכהב איה ▪תטשפומ הקלחמ יעפומ רצייל ןתינ אל ▪ןכש ,הקלחמל אלמ שומימ םייק אל ▪ לש תוטשפומה תודותמה לכל שומימ קפסל הכירצ תטשפומ הקלחמ לש הקלחמ תת לכ הלש לעה תקלחמ . ▪הז יאנת תמייקמ אל איה םא ,תטשפומ הקלחמ איה םג תויהל הקלחמה תת לע ▪הקלחמ םירידגמ/ הרומשה הלימב שומיש ידי לע תוטשפומ הדותמabstract 3 המגוד 4 םיקשממ ▪אלמ שומימ קפסלו טרפמ רידגהל ידכ םישמתשמ הקלחמב/ולש יקלח ▪תוקלחמב ,השרוה תרזעב ,גוסה ותואמ תוקלחמל ףתושמ טרפמ םירידגמ ונא ▪השרוה יחנומב אל ףתושמ טרפמ רידגהל ךרוצה הלוע םיתעל ▪המגודל :הספדה . הדותמה תא שממל םיכירצ םיטקייבוא ןומהprint()םהלש הקלחמה סופיטל רשק אלל. ▪ולאכ םיבצמב ,ב שמתשהל הצרנקשממ 5 םיקשממ–תודבוע המכ ▪ ללכ שומימ אלל טרפמ רידגמ קשממ(קיודמ אל ,תישילש הדוקנ ואר) ▪ע תאז השוע אוה\" םיעובק תרדגה י(finalוstatic )תודותמה לש טרפמה תרדגהו. ▪מ לחהJava 8 , תרירב תודותמ לשו תויטטס תודותמ לש שומימ םג רידגהל לוכי קשממ לדחמה ▪ע קשממ םירידגמ\" הרומשה הלימה יinterface ▪רחא קחשממ ביחרהל לוכי קשממ/ םיקשממ רפסמ(תוקלחמל דוגינב )! הלימה תרזעב הרומשהextends. 6 המגוד ▪בל ומיש ,כ קשממ לש םיעובקהו תודותמה תא שרופמ ןפואב רידגהל הבוח ןיאשpublic וא כpublic static finalהמאתהב .לדחמה תרירב יהוז 7 תוקלחמו םיקשממ ▪ןהב תושמתשמה תוקלחמ ןיבל ותוא תושממה תוקלחמ ןיב הזוח רצוי קשממ. ▪ע ףכאנ\"רדהמה י ▪קשממב תורדגומה תודותמל שומימ קפסל תבייחתמ תשמממה הקלחמה ▪תשמממה הקלחמה לש וז תובייחתה לע תכמוס תשמתשמה הקלחמה ▪השעמל ךכ ,שומימל טרפמה ןיב םידירפמ ונא ▪ תושימגתמייוסמ ▪קשממ קשממל תניינועמה הקלחמ ,ע תאז השוע\" הרומשה הלימב שומישה יimplements ▪ םינוש םיקשממ רפסמ שממל הלוכי הקלחמ(המל? ) ▪לע תקלחממ םג תשרוי איהו הדימב , הרומשה הלימהimplements הרומשה הלימה ירחא אובל הכירצ extends 8 המגוד 9 קשממב שומישל המגודPrintable תוקלחמבו ותוא תושמממה 10 םיקשממה תדרפה ןורקע ▪ הנכות לש ןוכנה ןכתה תונורקע תא תדגונ םיקשממ תלדגה(סרוקה ךשמהב הז לע דמלנ) ▪ןכל ,קשממ ונרדגהש רחאל , תודותמ ול ףיסוהל ןתינ אל(המל?) ▪ךכ םא ,םייק קשממל תוגהנתה ףיסוהל ךרוצ הלועשכ םישוע המ? 11 ןורתיפםיקשממה תלדגה תייעבל ףסונ ▪ב ףסונJava 8 ▪קשממ לש תודותמל לדחמ תרירב שומימ . הרומשה הלימב שומישdefault ▪והשמ םכל ריכזמ? 12 הבורמ השרוה ▪ב הבורמ השרוהC++VSב השרוהJava ▪תושגנתה לש היעב ▪ וזה היעבה תמייק אל םיקשממב( אלקייודמ ,המל?) ▪םיקשממ ינשב ההז המיתח תולעב תודותמ ▪לע תקלחמו םיקשממב ההז המיתח תולעב תודותמ 13 המגוד 14 תוטשפומ תוקלחמVSםיקשממ ▪םילכהמ דחא לכב שמתשהל הצרנ יתמ ? ▪םילדבהה ךותמ קיסנ ▪םיקשממ הברה שממל הלוכי הקלחמ , לע תקלחממ קר תשרל הלוכי ךא(תוטשפומ/תישחומ )תחא ▪השרוה תיכרריהמ קלח אל אוה קשממ , שממל תולוכי השרוה לש סחיב תורושק יתלב תוקלחמ קפסמ ןכלו קשממה ותוא תא ▪ תודותמל שומימ קפסל לוכי אל קשממ( ידכ דעdefault )הלוכי תטשפומ הקלחמו ▪רתוי הלודג תושימג רשפאמ קשממ , שומימ אלל ףתושמ טרפמב ךרוצ שי וב בצמ לכב ןכלו ףתושמ ,השרוהבו תטשפומ הקלחמב אלו קשממב שמתשהל ףידענ 15 תויתרוצ בר 16 תולאש? 17 ןוכנ אל וא ןוכנ? ןוכנ אל3 1 4 2 ןוכנ אל ןוכנ אל 22 ןכ ןכ אל ןכ אל 23 אל .הקלחמל תכייש תיטטס הדותמ ,ןוכנ אל ןכת אוה תושרויש תוקלחמהמ תחא לכב הלש הנוש שומימ ןתמו. ףסונב ,תפשJavaתיטטס הדותמ סורדל תרשפאמ אל ,התוא שממל שי דימת ןכלו. ןכ .תטשפומ תויהל הכירצ הקלחמה םג זא תטשפומ תחא הדותמ תוחפל הקלחמב שי םא , לכש רמוא אל הז לבא תוטשפומ תויהל תוכירצ תודותמה .ןיקת רבדה תיטטסה הדותמה תא םישמממ דוע לכ. תונכתןכתוהחנומםימצע OBJECT, GENERICS 1 הקלחמהObject ▪השרוהב ונקסע רשאכ , הקלחמהמ הניה לדחמה תרירב השרוהObject. ▪ןלוכל ףתושמה ןומדקה באה ▪מ תשרויש הקלחמ לכ-Object ,תושרונה תודותמה תא סורדל הלוכי ▪ תוניינעמ המכב דקמתנ(clone(), equals(), hashCode(), toString) ▪מ תושרונ רשא תופסונ תודותמ תומייקש ןבומכ-Object ▪Google it 2 clone() ▪ טקייבואה לש קתוע הריזחמה הדותמוניאשרוקמב יולת ▪ לדחמ תרירב שומימ=( תא םישמממ אל םאCloneable) , הגירח תקירז תררוג CloneNotSupportedException ▪סורדל םיטילחמ ןכ םא , קשממה תא םישמממ לעופבCloneable ▪המגוד : קשממה תא םישמממ םיכרעמCloneable ▪רמולכ ,הקלחמ םא/ קשממה תא השמימ הקלחמה לש יהשלכ לע תקלחמCloneable קרזית אל האיגש 3 clone()–שומימו הסירד ▪לדחמה תרירב שומימ:טקייבואה תודש לכ תא קיתעמ ,ל ארוק אל לבא-clone() ןפואב יביסרוקר ▪תודשה לש קתוע רצוי אל ,ה תא קיתעמ אלאreference םהילא(shallow copy) ▪ םמצע תודשה לש הקתעהב םיניינועמ םא(deep copy) , הדותמ סורדל שיclone() ▪תויתוהמה תויעבה תחא : קשממהCloneable הדותמה תא ליכמ אלclone()ל ןייצמ קרו- JVMל אורקל רתומש-clone()קשממה תא תשמממה הקלחמב. 4 equals() ▪ םיטקייבוא תאוושה(by reference )ע תישענ\" רוטרפואה י== ▪trueןורכיזב תבותכה התוא םא ▪םיטקייבוא ןיב רתוי השלח האוושהב ץופחנ םיתעל ,ב שמתשהל הצרנ ןכ לע-equals() ▪ תלועפ לש לדחמה תרירבequals() תאוושה הניהreference-םי ▪ הדותמה תוגהנתהequals()תויהל הכירצ ▪תיבקע ▪תוליקש סחי רידגהל :יביסקלפר ,יביטיזנרטו ירטמיס ▪ רובע טעמלnull דימת ריזחהל הכירצשfalse ▪ המnull.equals(my_object)ריזחת? 5 hashCode() ▪ סופיטמ ךרע הריזחמint תלבטב אתל טקייבוא הפממהhash ▪ תרירבלשדחמ : םיווש םיטקייבוא רובע םיווש םיכרע ריזחת הדותמה(by reference) ▪ןכל ,תרחא הרוצב ןויווש רידגהל םיצור םא , תסירד תעבequals() תא םג סורדנ hashCode()םאתהב ▪ב םישמתשמ אל םאש ןבומכ-hashCode()ךרוצ ןיא ,יאדכ הז ןוכנ יתונכת גהונכ לבא ▪הטודקנא : הקלחמל ףסוותה הנורחאלObject הדותמhash() הנתשמ רפסמ תלבקמ רשא סופיטמ םיטנמוגרא לשObjectה תלבט רובע ךרע םרובע הריזחמוhash. ▪ לש רתוי ליעי שומימל תרזועhashCode() ▪ תואצרהב ךכ לע דוע(בוgoogle) 6 toString() ▪האירקו הרצק תזורחמכ טקייבואה לש גוציי הריזחמ ▪ טקייבואה סופיט תא ליכמ לדחמה תרירב שומימהוhash code ותה לע םידרפומ ולש@ ▪ תארקנתיטמוטואתזורחמל הפצמ רדהמה ובש בצמ לכב ,טקייבוא לבקמ ךא ▪ הצרנ(תילאידיא )וז הדותמ סורדת הקלחמ לכש 7 המגוד ▪ןאכ ספדוי המ ? ▪ ריזחת המ האוושהה? ▪ ריזחי המequals() ▪וclone()? 8 המגוד(2) ▪ןאכ ספדוי המ ? 9 ו תופטוע תוקלחמautoboxing ▪םימצע החנומ תונכתב ,םיטקייבואב םישמתשמ ▪תאז םע , םינותנ ינתשמ םימייקםיטושפ ןוגכint, long, booleanםיטקייבוא םניאש ▪רמולכ ,מ םישרוי םניא-Object ▪ תכרעמב םינותנ סיפדהל םיצור וב בצמב םישוע המ(ב שומיש ךות-toString()) ▪ןורתיפה : תוליבקמ תופטוע תוקלחמ(ההז םש ,ב תיליחת-Uppercase) ▪ ןוגכ תוטשפומ לע תוקלחמNumber ▪תוקלחמ תת:Byte, Double, Integer ▪ ןוגכ תופסונ תופטוע תוקלחמVoid, Boolean ▪תופטוע תוקלחמל םיטושפ םינותנ ןיב הרמהל יטמוטוא ןונגנמ םייק . יורקautoboxing 10 גלזמה הצק לע םילכמ ▪ לכמב שומיש השענ(םירחא םיטקייבוא רפסמ ץבקל םדיקפתש םיסופיט ) סופיטמ ArrayList . גוסמ םיסופיט םילבקמObject ▪לכמל טקייבוא תסנכה תעב , הרמה תעצבתמ(upcasting ) סופיטלObject ▪לכמה ןמ םיאיצומ םא , הרזח הרמה עצבל בושח(downcasting )םיאתמה סופיטל ▪לדומב ךכ לע תפסונ הבחרה 11 המגוד ▪האיגש שי המל? 12 Generics!!! ▪ לכמ רוציי ורובעו רטמרפ רותב לכמה ליכי ותואש םינותנ סופיט תלבק רשפאמה ןונגנמ דחוימ ▪ל ליבקמtemplatesבC++ ,םיינשה ןיב םייתוהמ םילדבה םימייק ןבומכ ךא. 13 המגודה התוא , םע םעפהGenerics 14 תפסונ המגוד 15 ב תושמתשמה תודותמGenerics ▪ תלבקמ הדותמה יכ ןייצמ םשב דחא סופיטE 16 Genericsהשרוהו 17 ▪String לש הקלחמ תת הניהObject ▪ יבגל המArrayList<String>וArrayList<Object> ? ▪אל ▪ןכש עגרל חיננ ,תואבה דוקה תורוש תא עצבל ןתינ היה יזא: ▪סינכהל ונחלצה/ גוסמ םיטקייבוא איצוהלObject ךות לאlistOfStrings , תא םייקמ אלש םע הפלחהה ןורקיעString השדח היעב ונלביקו ▪והשלכ סופיטמ המישר טנמוגראכ תלבקמ רשא הדותמ בותכל םיצור רשאכ הרוק המ ▪ סופיטמ םירביא לש המישר לבקל לוכיObject ▪ל ארקנ םא-printList() גוסמ טנמוגרא םעArrayList<String>הרקי המ? ▪ש םושמ רודיה תאיגש-ArrayList<String> לש הקלחמ תת וניאArrayList<Object>!!! 18 WildCard ▪ןורתיפםסק 19 םיסופיט לע תולבגה ▪המגודל לולצנ טושפ ▪ סופיטהE קשממה תא שממל בייח רטמרפכ לבקתמשComparable ▪ הלימב םג שמתשהל ןתינsuperבא תויהל בייח לבקתמש סופיטהש ןייצל ידכ- לש ןומדק סופיטםייוסמ 20 דואמ התייה אל תמדוקה המגודהתקייודמ ▪ קשממהComparableב שמתשמgenerics , הרושב הדותמה תרתוכ תא תונשל ךירצ ןכל אבה ▪המל? ▪https://docs.oracle.com/javase/tutorial/extra/generics/morefun.html 21 הבושח הרעה ▪genericsה לש אלו רדהמה לש תלוכי איה-JVM ▪הצירה תעב , לע עדימ םייק אלהיצזירטמרפהכ םיגצוימ םלוכו םיסופיטה לשObject ▪ תארקנ וז הנוכתtype erasure ןכלו ליעפהל ןתינ אל רוטרפוא תאinstanceof סופיט לע רטמרפכ רבעוהש ▪ עצבל םג ןתינ אלcastingמ-Objectל-ArrayList<E> 22 תולאש? 23 1 שומימל המגוד()clone תטשפומ הקלחמב package oop; import java.util.Date; public abstract class Person implements Cloneable{ private String name; private Date birthday; public Person(String name, Date birthday) { this.name = name; this.birthday = (Date)birthday.clone(); //Date is mutable, prevent representation exposure } public abstract void celebrate(); public void printInfo() { System.out.println(name + \"Birthday is at: \" + this.birthday); } @Override public Object clone() { Person newPerson; try { newPerson = (Person)super.clone(); //shallow copy } catch (CloneNotSupportedException e) { //The exception will never be thrown by super.clone(), but the catch prevents us from having to declare it in the signature of this.clone(). assert false: \"Got inside the CloneNotSupportedException exception of Person.clone()\" } newPerson.birthday = (Date)this.birthday.clone(); //Date is mutable need to deep clone it return newPerson; } } class Worker extends Person{ private Date dateHired; public Worker(String name, Date birthday, Date dateHired) { super(name, birthday); this.dateHired = (Date)dateHired.clone(); } public void printDateHired() { System.out.println(\"Hired at: \" + this.dateHired); } @Override public void celebrate() { 2 System.out.println(\"Have to complete OOP exercise 1, can't celebrate.\"); } @Override public Object clone() { Worker newWorker = (Worker)super.clone(); newWorker.dateHired = (Date)dateHired.clone(); return newWorker; } } ןוינכטה– לארשיל יגולונכט ןוכמ למשח תסדנהל הטלוקפה 046271 - םימצע החנומ ןכתו תונכת תימצע האירקל רמוח: םילכמ 1 השמ ריאי י\"ע בתכנ םילכמ תריציב ברל ךורכ םימצע החנומ ןכתב תויעב ןורתפ תעדל ןתינ אל םיבר םירקמב .םישדח םיטקייבוא תא ןמזב היעבה ןורתפל רוציל שיש םיטקייבואה תומכ םא ,לשמל .תינכותה תציר ןמזב קר אלא ,דוקה תביתכ לש תותיחנו תוארמה לוהינל רזע ילכ איה תינכותה תעדל ןתינ אל ,שדח טקייבוא םירצוי ונא סוטמ לכ רובע םאו ,הפועת הדשב םיסוטמ .עגר לכב קקדזנ םהלש םיטקייבואה רפסמ תא שארמ תיסחי טושפ לוהינ רשפאל ידכ ( םילכמב םישמתשמ ונא ,הציר ןמזב םירצונה םיטקייבוא לשcollections, containers.) לש ףסוא גציימ ברל לכמ .םירחא םיטקייבוא רפסמ ץבקל ודיקפתש טקייבוא אוה לכמ את ןוגכ ,הצובק םיווהמה םיטקייבוא- רפס וא ,םיבתכמ לש ףסוא ליכמה ,ראוד ,םינופלט ותואש ,רתויב טושפה לכמה .תומשל םיכיושמה ןופלט ירפסמ לש ףסוא ליכמה .ךרעמ אוה ,ונרכה רבכ לש תויטרדנטסה תוליבחהJava .םילכמ לועפתלו גוצייל תדחואמ הרוטקטיכרא תוליכמ :םיקלח השולשמ תבכרומ איהו ,ךרעמ דבלמ םילכמה לכ תא הפיקמ וז הרוטקטיכרא שממה לש םישומימ ,םיקשממ ףסואב אוה םיקשממה ןיב לדבהה .םימתירוגלאו םיק .הלועפ לכ עוציבל תויכוביסב אוה םישומימה ןיב לדבההו ,עצבל םיעדוי םהש תולועפה ב םישמתשמ םיקשממה לכ-generics. :םה םיירקיעה םיקשממה Collection – ( הצובקה ירביא םיארקנה םיטקייבוא תצובק גציימ הז קשממelements .) .ותוא םיביחרמה םיקשממ לש אלא ,הז קשממ לש רישי שומימ ןיא Set – גציימלכמ ןוגכ תוצובק גוצייל שמשמ אוה .םילופכ םירביא ליכהל לוכי אלש םימייק םישומימ .םהילא םושר טנדוטסש םיסרוק וא רקופ קחשמב םיפלק קשממ לש םה הזHashSet אל ולש תולועפה בושיח תויכוביסש ךא םירקמה ברב ףידעה( ,)תיטסינימרטדLinkedHashSet ו-TreeSet םשב תשמממ הקלחמ םג תמייק .EnumSet םהש םיסופיט םע שומישלenum. תימצע האירקל רמוח: םילכמ 2 List – לכל תשגל ןתינו ,הצובקב םירביאה ןיב רדס םייק .)הרדיס( הרודס הצובק גציימ יא םה הז קשממ לש םימייק םישומימ .ולש סקדניאה יפל הצובקב רבVector ו-Stack (יקיתווהם ,)שומישל םיצלמומ אלהו רתויArrayList ןכ םא אלא ,םירקמה ברב ףידעה( ו )עצמאהמ םירביא קוחמל וא ףיסוהל םיצור-LinkedList. Queue – ירביא .םילופכ םירביא ליכהל לוכיש ףסוא גציימQueue רדסב ברל םירדוסמ FIFO (First In First Out תוקלחמה תושמממ הז קשממ תא .הבוח וז ןיא ךא ,)LinkedList ו-PriorityQueue. Deque – ומכQueue םירביאה ןאכ .םילופכ םירביא ליכהל לוכיש ףסוא גציימ אוה םג , סב ברל םירדוסמ רדFIFO (First In First Out וא )LIFO (Last In First Out הז קשממ תא .) תוקלחמה תושממ LinkedList ו-ArrayDeque. Map – ( תוחתפמ לש יופימ גציימkeys( םיכרעל )values .םילופכ תוחתפמ ליכהל לוכי אל .) םה הז קשממ לש םימייק םישומימ .ךרע ףאל וא דחא ךרעל הפממ חתפמ לכHashtable (יתווהק ,)שומישל ץלמומ אלהו רתויHashMap תויכוביסש ךא םירקמה ברב ףידעה( ,)תיטסינימרטד אל ולש תולועפה בושיחLinkedHashMap ,TreeMap ,WeakHashMap ו-IdentityHashMap םשב תשמממ הקלחמ םג תמייק .EnumMap םיסופיט םע שומישל םהשenum. םיקשממהSortedSet ו-SortedMap לש תואסרג םהSet לשוMap םהירביאש המאתהב םשב םיקשממ םג םימייק .םיניוממNavigableSet ו-NavigableMap םיקשממ םיביחרמש .םיוסמ חתפמל בורק יכה םהלש חתפמהש םיכרעה תא לבקל םירשפאמו המאתהב הלא הקלחמהCollections .ל\"נה םיקשממה לע םילעופה םימתירוגלא לש ףסוא הליכמ תולבקמ ןהש ןושארה טנמוגראהש תויטטס תודותמ תרזעב םישמוממ הלא םימתירוגלא תירוגלאה עצבתי וילעש לכמה אוה לע םילעופ םימתירוגלאהמ לודג קלח .םList ךא , סופיטמ טנמוגרא םילבקמו רתוי יללכה הרקמב םילעופ םקלחCollection םימתירוגלאה . ב םיאצמנה-Collections ,בוברע ,ןוימ :ןוגכ םילכמ לע תונוש תוישומיש תולועפ םיעצבמ .רדס ךופיה ,יולימ ,הקתעהה ,הצק יכרע תאיצמ ,שופיח :המגוד import java.util.*; public class Containers { public static void fill(Collection<String> c) { c.add(\"dog\"); c.add(\"dog\"); c.add(\"cat\"); } public static void fill(Map<String, String> m) { m.put(\"dog\", \"Rex\"); m.put(\"dog\", \"Spot\"); m.put(\"cat\", \"Mitzy\"); תימצע האירקל רמוח: םילכמ 3 } public static void main(String[] args) { List<String> myList = new ArrayList<>(); Set<String> mySet = new HashSet<>(); Map<String, String> myMap = new HashMap<>(); fill(myList); fill(mySet); fill(myMap); System.out.println(myList); System.out.println(mySet); System.out.println(myMap); } } הדותמבmain() םהו םיטקייבוא םהילא םיסנכומ ןכמ רחאל .םילכמ השולש םירצונ הדותמל )תזמורמ( האירק י\"ע תעצבתמ הספדהה .ךסמל םיספדומtoString() .לכמ לכ לש ב שומיש ךות תעצבתמ לכמה תריצי-generics ותאצותש קשממ לש שומימ לש יאנב י\"ע ךותל תסנכומreference רצונ .םיאתמה קשממלArrayList ל סנכומה-List ,HashSet ל סנכומה-Set ו-HastMap ל סנכומה -Map םשב וז תא וז תוסימעמה תודותמה .fill() קשממ סופיטמ םיטנמוגרא תולבקמ– Collection ו-Map ץלמומ יתונכת גהונ והז . - יאדכ קשממב לפטל יוצר ,ןתינו הדימב ,ףסונב .שומימב אלו לכמ לש קשממב לפטל דימת יללכ ( רשפאה לככCollection אלוList ואSet .יונישל רתוי לקו שימג תויהל דוקה ךפוה ךכ .) ה תכיפה י\"ע הנכותה יעוציב תא רפשל הצרנ דיתעבש ,לשמל ,ןכתי -HashSet ל-HashTree . ב םיאתמה יאנבל האירקה תא תונשל אוה ךכ םשל תושעל שיש לכ-main(). ךסמל המגודה לש הספדהה תואצות :ויהי [dog, dog, cat] [dog, cat] {dog=Spot, cat=Mitzy} List .וסנכוה םהבש רדס ותואב לביקש םירביאה תא קיזחמSet םירביא לבקמ אל ןכלו םילופכdog .תחא םעפ קר עיפומMap חתפמ לש תוגוז לבקמ- לבקמ אל אוהו ךרע ןאכ םג ןכלו ,םילופכ תוחתפמdog .תחא םעפ קר עיפומ :הרעה לש םילכמה תרוטקטיכראמ קלח אל אוה ךרעמJava תודותמ תומייק ןכלו , ול היה רבעב ךא ,עובק לדוג לעב אוהש ךכב לבגומ ךרעמ .ךפהלו לכמל ךרעממ הרמהל ואלו םיוסמ סופיט קיזחהל לגוסמ היהש דיחיה היהש ךכב םילכמה ראש לע בושח ןורתי אקוודObject תפסוה זאמ .generics ורתי ,הפשל.םלענ הז ן לש ימינפה שומימה תא תפשוח ,לכמ הריזחמה הדותמ ,התיכב דמלנש יפכ :תפסונ הרעה הדותמב שומיש ךות לכמה לש קתוע ריזחהל ןתינ תאז עונמל ידכ .טקייבואהclone() וא תודותמב שמתשהלunmodifiableList() ,unmodifiableMap() הקלחמהמ 'דכוCollections. תימצע האירקל רמוח: םילכמ 4 היצרטיא יתעל ונא תובורק םיניינועמ ם ירביאמ קלח לע וא לכ לע הלועפ עצבל לכמה ירביא לע רובעל ונילע ךכ םשל .לכמ איה היעבה .יהשלכ ךרדב ב יולת הזכ רבעמ עצבמש דוקשלכמ הרקמב םייוניש שורדיו ומצע ה יוניש לשלכממ רבעמ ,לשמל .-List ל-Set תועמשמ תא לטבמ בותכל ונל רשפאתש הטשפהב ךרוצ םייק .היצרטיאב רדסה סופיטב תולת אלל םירביא תצובק לע הלועפ עצבמה םתירוגלא הלכמ .םתוא ליכמה איה וז הטשפהdesign pattern ארקנהIterator לע דוע(design patterns )סרוקה ךשמהב . המ דחא לכללכמ םשב הדותמ תמייק םיiterator() סופיטמ טקייבוא הריזחמהIterator. ה ירביא לע רבעמל שמשמ הז טקייבואלכמ .Iterator לע רובעל רשפאמה קשממ אוה ה ירביאלכמ הדותמה תרזעבnext() תרזעב רבעמל םיפסונ םירביא ורתונ םאה קודבלו הדותמהhasNext() שומיממ םירביאה לע רבעמה תלועפ תא דירפהל רשפאמ הז קשממ . המלכ סופיטמ טנמוגרא תלבקמה הדותמ בותכנ ,לשמל ,םא .ומצעIterator ,וילע תלעופו .םיקזחומ םה וב םינותנה הנבמבו םינותנה ועיגה ונממש םוקימב היולת היהת אל איה :המגוד import java.util.Iterator; public class Printer { public static <E> void printAll(Iterator<E> iter) { while(iter.hasNext()) System.out.println(iter.next()); } } import java.util.ArrayList; import java.util.Iterator; import java.util.List; class Computer {} public class Iteration { public static void main(String[] args) { List<Computer> computers = new ArrayList<>(); for (int i = 0; i < 7; i++) computers.add(new Computer()); Iterator<Computer> iter = computers.iterator(); Printer.printAll(iter); } } הדותמהprintAll() ירביא תספדה תרשפאמ המגודבלכמ ה גוסב תולת אלללכמ ומיש . הדותמל תזמורמ האירק ןאכ תעצבתמש ךכל בלtoString() ה ירביא לשלכמ. תימצע האירקל רמוח: םילכמ 5 ירביא לע רובעל רשפאמה רתוי טושפ ריבחת רבעב וניארלכמ - תאלולforeach ,תאז םע . מ רתוי לבגומ הז ריבחת-iterator ב שמתשהל םיבייח ןכלו-iterator :םיאבה םירקמב 1. המ םירביא קוחמל וא ףילחהל ךרוצ שי רשאכלכמ. 2. רפסמ לע עצבתהל הכירצ היצרטיאה רשאכלכמ.ליבקמב םי :תורעה • לכמ לש םינוש םישומימ תוריזחמה תודותמ רפסמ ליכהל לוכיIterator םאתהב , .םירביאה לע שרדנה רבעמה יפואל • קשממהListIterator קשממה תא ביחרמIterator רובע רזחומ אוהולכמ סופיטמ םי Listב תומייקה ולא לע תופסונ תולועפ ליכמ הז קשממ .-Iterator ןוגכ ,previous() ו-hasPrevious(). • תרזחהIterator ל םורגל הלולע-representation exposure ל תמייקש םושמ-Iterator םשב הדותמremove() המ יחכונה טקייבואה תא הריסמשלכמ תודותמב שומיש . unmodifiableList() ,unmodifiableMap() .וז היעב רתופ ,םדוק רבסוהש יפכ ,'דכו תונכתןכתוהחנומםימצע תקידבהנכות 1 רצייל דציכתינכותתולקת אלל? ▪ םיגאב– תודדומתה יכרד ▪ יכ ךירעהל גוהניכ לכב גאב םייק100-1000תיסופיט תינכותב דוק תורוש . ▪ טרפמ–הרובע רדגוהש טרפמה יפ לע תלעופ םאה? 2 \"הנגה יווק \"םיגאב דגנכ ▪םיירשפא יתלבל םתוא ךופהל ▪המגודל :בJavaםינוש םיסופיט ןיב החוטב אל המשה עצבל ןתינ אל ▪ שומישתויצטונאב ןוגכ@Overrideהדותמ לש הסירד אדוול ידכ ▪תופסונ תואמגוד? ▪ ןוכנ ןונכת–םינוכנ תונכתו ןכתל יוכיסה תא הלעמ דודיקה בלש ינפל היעבה חותינו בוציע. ▪ רתוי טושפ- >םיגאבל רתוי ךומנ יוכיס ▪ריהמ יוליג▪ב שומישcheckRep()(יתנגה תונכת) ▪היסרגר תוקידבו הדיחי תוקידב עוציב ▪ תולקת יופינ =םיגאבה ןוקיתו רותיא 3 הנכות תקידב ▪הלש טרפמה יפל תלעופ הנכותש אדוול הצרנ . תארקנ וז הלועפףוקית(validation) ▪ףוקית תומיאמ בכרומ(verification) הקידבמו(testing) ▪ תומיא– שרדנכ תדבוע תינכותהש קיסהל ךרדהירשפא טלק לכ רובע ▪ לכ רובע םייטמוטוא םילכ שרוד רשא ךילהתתינכות .םויכ יליביזיפ אל ▪יקלח ךילהת , הניחב תועצמאב לשמל(inspection) ▪ הקידב–םינושה חותיפה יבלשב הנכות לש םינוש םיטביה קודבל ןתינ ▪Unit testing ▪Integration testing ▪Regression testing ▪Functional tests ▪Stress/load tests ▪םיבר םיגוס דועו 4 תוקידב-הבחרה ▪תולקת תומייקש חיכוהל הלוכי הקידב ,ולאכ תומייק אלש אל ךא ▪ ףסוא לע תינכותה תא םיצירמ וב ךילהת הניה הקידבםיטלק לעופב תואצותה תא םיוושמו תופוצמה תואצותל ▪ תא הלגמ הקידבהמויקהמוקימ תא אלו הלקת לש ▪ גישהל ףאשנcoverage רשפאה לככ הובג ▪ל ףאשנש ןבומכ100% ,יטסילאיר םאה ךא? 5 המגוד ▪ רפסמ המםיטלקההדותמל םיירשפאה? ▪ 2620 ∗ 2620 ∗ 1010 ≈ 1066 6 תוקידב– בחרמםיטלק ▪ ןחבמ ירקמ ףסוא רחבנ(test cases) ▪ לככ הבורק היהת וילע תינכותה תצרהש תנמ לע ןתינה לככ םיגציימ םירקמ ליכיש הצרנ לכ תצרהל רשפאהםיטלקהםיירשפאה ▪ל ףאשנfunction coverageו/ל ואcode coverage 7 הרוחש הספוק תוקידב(black box testing) ▪ ןחבמ ירקמ רחבנדבלב טרפמ יפ לעתקדבנה הדיחיה לש ימינפ שומימב תובשחתה אללו ▪הרוחש הספוק תוקידב תונורתי? ▪ ןחבמ ירקמ תריחב\"םיטקייבוא( \"ןחבמה ירקמ תריחבב יוניש ררוג אל שומימב יוניש) ▪שומימה ינפל דוע ןחבמה ירקמ תא רוחבל ןתינ . תשיגTest-Driven Development ▪הקידבה אוציי ▪תוסכל ןחבמה ירקמ לע ▪ב טרפמב םירדגומה םילולסמ@requires, @effects ▪ הצק ירקמ ▪ תויעבaliasing 8 תייעבל המגודaliasing ▪ל םא אבה דוקב הרקי המv1,v2ה ותוא היהיreference? 9 הנבל הספוק תוקידב(white/glass/clear box testing) ▪הבוט הלחתה ןה הרוחש הספוק תוקידב , יוסיכ תונתונ ןכש ןייד תוקפסמ אל ךא ילאנויצקנופדבלב. ▪הנבל הספוק תוקידבב , םילולסמה לכ תא תוסכל ףאשנו ימינפ שומימ לע ךמתסנ דוקב םיירשפאה ▪בוש ,תואיצמ שיו לאידיא שי ▪תואבה תוקידבה עוציבב תוחפל קפתסנ ▪יאנת יטפשמ ▪תואלול ▪היסרוקר 10 הקידב תייגולודותמ–גלזמה הצק לע ▪ללכה לא טרפה ןמ ▪דרפנב הלועפ לכ קודבנ ,תולועפ לש ץבקמ ןכמ רחאלו ▪שמוממ דוקהמ קלח קר רשאכ הרוק המ ?קודבנ ךיא? ▪האצותה תוניקת תא תקדובו תקדבנה הדיחיה תא הליעפמה הקלחמ לש תנוונמ הסרג . תארקנdriver ▪ תארקנ תקדבנה הדיחיה הליעפמ התואש תרחא הדיחי המדמה הקלחמ לש תנוונמ הסרג stub 11 JUnit ▪ה ךילהת לע לקהל תנמ לעunit testing ,םייטמוטוא םילכ ורצונ ▪שארמ ועבקנש ןחבמ ירקמ ףסוא קדוב םילכ לש דחא גוס ▪רודיה לכ רחאל דימ יטמוטוא ןפואב הקידבה תא עצבל םירשפאמ ▪ב שמתשנ סרוקבJUnit 12 המגוד– ירפסמ בושיחצאנוביפ'י 13 תוקידבblack box תרזעבJUnit 14 Junit–םיפסונ םיטרפ ▪ ןונגנמב שומיש השענתויצטונא לשJava ▪ לש הקידב לכJunit הדותמ תויהל הכירצםירטמרפ תלבקמ אלש , הריזחמvoid תא הל שיו תייצטונא@Test. ▪תייצטונא@Testםירטמרפ לבקל הלוכי ▪Timout–ב ןמז קרפms הקידבה תאצות בשחת וירחאלשןולשיככ ▪Excepted– םיפוצש הגירחקרזתש(תקרזנ םא ,החלצה יהוז) ▪ תדותמ לכ@Testתודותמה ראש תעפשה אלל ץורת ▪תויצטונא ןוגכ תופסונ@Before ,@Afterדועו ▪האצרהב טרופמ/Just google it 15 תקלחמorg.junit.Assert ▪וז הקלחמ אבייל תנמ לע ,ב םישמתשמimport static ▪וז הקלחמ ךותמ תויטטס תודותמב שמתשהל ןתינ תוניקת אדוול תנמ לע ▪ המגודלassertEquals(), assertTrue(), assertFalse(), assertNull() ▪הניקת אל האצות לש הרקמב ,האצותל םרגש יוטיבה ךרע רזחוי 16 המגוד( שומימ לש יביסרוקרFib) 17 תואצותהו ▪7/8החלצהב ומייתסה ▪ ןולשיככ המייתסה הנורחאה הקידבה( רחאל המייתסה אל100ms) 18 תיראניל הסרג (Fib) 19 תואצות ,ייתובר ▪8/9תוניקת ▪הנורחאה הקידבה , רובעn=47 יוגש ךרע הריזחה1323752223- םוקמב2971215073 ▪int overflow ▪ןורתיפירשפא? 20 ישילש שומימ(caching) 21 תואצותה ןלהל! ▪9/11הניקת הרוצב ומייתסה ▪ לש וזל המוד הלשכנש הנושארה הקידבהLinearFib ▪ איה הלשכנש היינשה הקידבהtenTwice()( ירוקמה דוק גאב היה תינכותה לש ,התוא ןקתל חרט סרוקה לגסש ןבומכ) 22 תולקת יופינ ▪דוק ןונכתב ץמאמ ,ודועתותביתכו ▪ ושמתשהםיטלקבהלקתה רוזא תא דקמל ידכ ןתינה לככ םיטושפ ▪םייופצ אל תומוקמב הלקתה תא ושפח ▪הלקתה תא ןקתל ורהמת לא .תופסונ תויעבל םורגי אל הנוקיתשו הלקתה ןכא וז יכ ואדו 23 תולאש? 29 תונכתןכתוהחנומםימצע תוגירח 1 תוגירח ▪תובר םיתעל ,םימיוסמ טלק יכרע רובע קר הנוכנו תינויגה הלועפ עצבל היושע הדותמ. ▪םירחא טלק יכרע רובע ,ןיקת ןפואב הלועפ תא םייסל תלגוסמ הניא איה. ▪ןורתיפ תיקלח הדותמ שומימ אוה ירשפא(partial) ▪ שמתשמה לע םיכמתסמ( םימייק ןיידע ךאםיטלקתרדגומ הניא הדותמה הלועפ םרובע) ▪סואכ ▪ןורתיפ המלש הדותמ שומימ אוה רחא(total) 2 המלש הדותמ ▪וז שממל ןתינ דציכ ? ▪ ידוחיי ךרע לשמל ריזחהל(-1המגודל )םייבויח םירפסמ ןיקת ןפואב הריזחמש הדותמ רובע. ▪ןורתיפלתויעב רפסמ הז ▪ירשפא ךרע לכ ריזחהל הלוכי הדותמה רשאכ םישוע המ? ▪ עצבל םיבייחtest ידוחיי ךרע ותוא רובע( תייעב\"תואיגש דוביא)\" ▪ ךירצ האיגשב לופיטהתושעהלהדותמל האירקה תעצבתמ הבש הדוקנב ▪ יטגפס דוק– דוקהו האיגש לופיטל דוקה\"ליגרה\"םיבברועמ 3 Optional ▪מ לחהJava 8 סנכוהtype םשב שדחOptional <T> רסח תויהל לוכי רשא ךרע גציימה (empty) ▪ב לופיט םע תולק רתיב דדומתהל רזועnullהייקנו תרדוסמ הרוצב םי 4 Optional-101 ▪ ןאכ עיפומ דועית https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html ▪שמתשהל תנמ לע ,הקלחמה תא אבייל ךירצ ▪ טקייבוא תריציOptionalקיר import java.util.Optional; Optional<String> emptyName = Optional.empty(); 5 Optional-101 ▪ טקייבוא תריצי\"אלמ\" ▪ תדותמisPresent() םאתהב ינאילוב ךרע הריזחמםאהלקיר אוה תלעופ וילע טקייבואה Optional<String> name = Optional.of(\"Jacob\"); if (name.isPresent()) { System.out.println(\"Value available\"); } else { System.out.println(\"Value not available\"); } 6 Exceptions ▪Optionalךרע לכ ריזחהל הלוכי הניקתה הדותמה וב בצמה תא רתופ אל ןיידע. ▪ הרוצב םג םייתסהל הדותמל רשפאמה ןונגנמ וניה תוגירח ןונגנמ(תורוצ המכ וא )הגירח. ▪הדותמה לש ןקית עוציבל דוקהמ דרפומ תוגירחב לופיטל דוקה. ▪האיגשל תפדרנ הלימ הניא הגירח! ▪ הגירחל הליבומ הניאש האיגש–ןנוכב קסיד ןיא םא , אלו ךסמה לע האיגש ןולחב שמתשמל ךכל עידוהל שי הגירח תרזעב תינכותב עדימה תא ריבעהל 7 המגוד 8 םיטביהםיינכט ▪השדח הגירח תריציב , הקיר הגירח תקלחמ רידגהל קיפסמ(תודש הל ףיסוהל ןתינ , תודותמ םיאנבו) ▪טקייבוא הניה הגירח , תועצמאב התוא םירצוי ןכלnew ▪וניארש המגודב ,הגירחה לש יאנבל םירטמרפ םירבעומ אל . ןתינ תויטרדנטסה תוגירחה לכב האיגשה תא תראתמה תזורחמ ריבעהל(עדימ ריבעהל ידכ) ▪\"םיקרוז \"ע הגירח\" הרומשה הלימב שומישה יthrow ▪הקירזה עגרב , אוהש דוקב רחא רוזאל רבוע עוציבהו הדותמה לש הניקתה התלועפ הקיספמ הexception handler .דוקה עוציב םויסב ,אלהגירחה הקרזנ הנממש הדוקנל עוציבה רוזחי 9 םיטביהםיינכט–try-catch ▪תואיגשה וספתי וב ןגומ רוזא . הלימהcatch תקספ הרידגמexception handler הב הגירחהספתתלפוטתו ▪catchוהשלכ סופיט רובע ,הז סופיטמ תושרויה תוגירח םג תספות ▪קרזנש הגירחה סופיטל המיאתמש הנושארה הקספה דימת עצבתת ▪ה תואקספ תא םושרל שיcatchרתוי תיללכל תוחפ תיללכהמ 10 עגר,לבאהמםעןיאException handler ▪ ןיא ןאכException handler , תרזעב רהצומ תרתוכב לבאthrows תא תקרוז הדותמהש הל ארקש ימל הלעמ הגירחה ▪ע תונוש תוגירח רפסמ קורזל ןתינ\"םיקיספ םע תוגירחה תומש תדרפה י ▪ תויושעש תוגירחהקרזהל הדותממהדותמה טרפממ קלח ןה ▪ תדותממ םג תקרזנ הגירח םאmain() ,ע תלפוטמ איה\"ה יJVM . שיו תמייתסמ תינכותה המיאתמ האיגש תעדוה 11 רחא שופיחException handler 12 תוגירח לומ תודדומתה יכרד ▪ שדחמ עוציב(retry )–שדחמ עוציבו הגירחל ומרגש םיאנתה תא תונשל ןויסינ . שומיש בtry-catchימוקמ לופיטבו ▪ ןולשיכ(failure/organized panic )–ןולשיכב םייתסה הלועפה עוציבש העדוהו יוקינ . הלעמ הגירחה תקירזב אטבתמ(רתוי תיללכ הגירח הלעמ קורזל ןתינ) ▪ אווש תקעזא(false alarm )– םירידנ םירקמב )!( האלה ךישמהלו הגירחהמ םלעתהל ןתינ ןנכותמכ .ב שומישב אטבתמtry-catchב הגירחב לופיט יאבוcatch 13 תיטרדנטסה תוגירחה תיכרריה example checked unchecked Throwable ExceptionError RuntimeExceptionIOException FileNotFoundExceptionEOFExceptionRemoteException ServerErrorException NullPointerException IllegalArgumentException IndexOutOfBoundsException 14 לש םידחוימ םיגוסException ▪RuntimeException–תונכת תועטמ תעבונה הציר ןמז תואיגש לש םיוסמ גוס תגציימ . לשמלNullPointerException ואIndexOutOfBoundsException ▪ךכבש חוורה לע הלוע ןתסיפתב הכורכה העקשהה םיתעלו תוצופנ תוגירח ולא ▪ תפשJavaהז סופיטמ תוגירחב שרופמב לפטל אל תרשפאמ .Unchecked exceptions ▪ ארקנ ןהלו תוקדבנ ןכ תורחא תוגירחchecked exceptions ▪ב תוולמ תויהל תובייח ולאtry-catchב וא\"הלעמל הקירז\" 15 ב תוגירחJava ▪ לש עפומ הניה הגירח לכjava.lang.Throwableהלש הקלחמ תת לש וא. ▪ סופיטמ הגירחErrorע תקרזנ\"ה יJVMתימינפ האיגש וא רודיה תאיגש לש הרקמב. ▪םירידנ םירקמל טרפ ,קורזל ןיא/ סופתלError. ▪בורל ,קורזנ/ סופתנException(היאצאצ וא.) 16 Finally ▪ תקספfinallyדימת תעצבתמ תקספ ירחאtry ואcatch ▪עצבתהל דימת םירומאש םיבושח דוק יעטקל תשמשמ 17 try-with-resources ▪ םירקמב ףילחהל לוכיםימייוסמ תאtry-catch-fianallyדוקה ךרוא תא רצקלו ▪ קשממה תא תושמממה תוקלחמ רובע קר ירשפאAutoCloseable ▪ הדותמ שי קשממבclose קולב ףוסב דימת ארקיתשtry ואcatch הל אורקל ךרוצה ילב תקספ תועצמאב תושרופמfinally 18 המגוד 19 Turns into… המגודתפסונ 20 תולאש? 21212228293031 תונכתןכתוהחנומםימצע ןכתהנכות 1 המדקה ▪דואמ תיתריצי תוליעפ אוה הנכות ןכת . ▪תונמוא םע הסדנה לש בוליש ▪ םימייק הטלחה עוציב לכבtradeoffs ▪ןכ לע , ןוכנ ןכתל םיחנמ םיללכ ורצונ–SOLID, GRASP 2 SOLID ▪5םימצע החנומ ןכת תונורקע▪Robert C. Martin ▪Single responsibility principle ▪Open/closed principle ▪Liskov substitution principle ▪Interface segregation principle ▪Dependency inversion principle 3 הדיחיה תוירחאה ןורקיע(Single responsibility principle) ▪ םג ארקנseparation of concerns ▪ תויהל הכירצ הקלחמ לכלהדיחי תוירחא ▪וז תוירחא עוציבב תזכורמ תויהל הכירצ הקלחמהו ▪תוירחא יהמ? ▪יונישל הביס .הדיחי הביס ,ןבומכ ▪coupling 4 ןיקת םאה? 5 רתוי חלצומ ןכת 6 ▪הנכותה לש םידיתע הקוזחתו חותיפ ▪לשמל :תושדח תולוכי תפסוה ▪םייקה דוקה תא תוחפש המכ תונשל הצרנ ▪הבחרהל םיחותפ ויהי הנכות יביכרש הצרנ ,םייונישל םירוגס לבא. 7 תוחיתפה ןורקיע/ תוריגס(Open/closed principle) המגוד ▪ןיקת םאה? 8 הביטנרטלא 9 ▪הצרנש תורוצ המכ ףיסוהל ןתינ תעכ ▪ 1011 םיקשממה תדרפה ןורקיע(Interface segregation principle) ▪ הטשפה תבכש הווהמ קשממ ▪היעב תווהל תולולע ידמ תובר תודותמ . ▪המל? ▪ םייפיצפסו םינטק םיקשממ ןומה הצרנ(ו יללכ דחא קשממ ינפ לע\"ןמש)\" 12 המגוד 13 המגוד-ךשמה ▪שדח ןומימ רוקמ האצמ הרבחה ▪הרבחל םיטובור ופסונ ▪םיאתמ יחכונה ןכתה םאה? 14 הביטנרטלא 15 תולתה ךופיה ןורקיע(Dependency inversion principle) ▪ תוקלחמ\"תוטושפ \" תוקלחמו\"תוכבוסמ\" ▪היציאוטניא : סיסבה תוקלחמ תביתכב ליחתהל ▪היעבה המ? 16 המגוד 17 הטשפה תבכש תפסוה(קשממ) ▪ תא ןנכתנCopyקוקז אוה םהלש םיקשממה תאו ▪וללה םיקשממה תא שממנ ןכמ רחאל ▪top-down( םוקמבbottom-up) ▪םשה ןאכמ ,תולתה ךופיה ןורקיע. ▪םיבושח תונורתי ינש: .1 םיבכרומ םיביכר םייולת אלםייסיסב םיביכרב( .הטשפהב םייולת םהינש) .2םיטרפב היולת אל הטשפהה ,הטשפהב םייולת םיטרפה אלא. .1המגוד :הלעפה תוכרעמ לש םירביירד( סקוניל– תפשc , אקווד ואלjava)! 18 יביטנרטלא שומימ 19 GRASP ▪םינוש םיביכרל תוירחא ימוחת תאצקה ךילהת ▪ומצע לע חקול ביכרהש תובייחתה הניה תוירחא ▪יהשלכ הלועפ עוציב ▪והשלכ עדימ תקזחה ▪GRASP–תוקלחמ לש תוירחא ימוחת תעיבקל םיחנמ םיללכ ףסוא/ב םיטקייבואOOP ▪Craig Larman ▪ םיללכ העשת(Creator, Information Expert, Low Coupling, Controller, High Cohesion, Polymorphism, Indirection, Pure Fabrication, Protected Variations) 20 עדימה לעב(Information Expert) 21 ▪היעבה :םיטקייבואל תוירחא ימוחת תקולח לש יסיסבה ןורקיעה והמ? ▪ןורתיפה :תוירחאה יולימל ץוחנה עדימה תא הל שיש הקלחמל תמיוסמ תוירחא קלחל שי. ▪המגוד: ▪ תקלחמOrder תקלחמ לש עפומ הליכמהOrderLineהנמזהב הרוש לכ רובע. ▪ דחא טירפ ןמזומ הנמזהב הרוש לכב(רתוי וא ) סופיטמProduct. ▪הס בושיחל יארחא ימ\"הנמזהה ריחמ כ? רצוי(Creator) ▪היעבה : הקלחמה לש םיעפומ םהש םיטקייבוא רצוי ימ𝑋? ▪ןורתיפה : הקלחמה לש םיעפומ𝑌 הקלחמה לש םיעפומ ורצי𝑋 דחא םא(רתוי וא ) םימייקתמ םיאבה םיאנתהמ: .1 לש םיעפומ𝑌 לש םיעפומ והשלכ ןפואב םיליכמ𝑋 .2 לש םיעפומ𝑌 לש םיעפומ םימשור𝑋( תא דעתמ לשמל𝑋) .3 לש םיעפומ𝑌 לש םיעפומב םישמתשמ𝑋קודה ןפואב .4 לש םיעפומל𝑌 לש םיעפומ לוחתאל שמשמה עדימה תא שי𝑋 המגוד : תקלחמ םע טמחש קחשמ𝐵𝑜𝑎𝑟𝑑 , תקלחמו𝑆𝑞𝑢𝑎𝑟𝑒 . םיעפומ רוציי חול לש עפומ םתוא ליכמ אוהש םושמ תצבשמ לש. 22 ךומנ דומיצ(Low Coupling) ▪היעבה :םייוניש לש העפשהה תא תיחפהל דציכ? ▪ןורתיפה :ןתינש לככ ךומנ היהי דומיצהש ךכ הנכותב תוירחא קלחל ▪ דומיצ = םירחא םירביאל רביא ןיב רשק קזח המכ לכ דדמ(תולת ,העידי וא) ▪ךומנ דומיצל ףאשנ ,דבלב תימוקמ העפשה היהת םייונישלש ידכ. ▪עדימה לעב ןורקיעל הקדצה םג ןתונ ▪הובג דומיצל תואמגוד? 23 המגוד 24 תוריכמה תמישר תונחב ההובג תודיכל(High Cohesion) ▪היעבה :דציכםורגלםיטקייבואלםידקוממ תויהל ,הקוזחתל םילקו הנבהל םילק( םגו יאוול רצותכ ךומנ דומיצ חיוורהל)? ▪ןורתפה :ןתינש לככ ההובג היהת תודיכלהש ךכ הנכותב תוירחא קלחל. ▪ תודיכל =והשלכ ביכר לש תוירחאה ימוחת םידקוממו קזח םירושק המכ לש דדמ ▪ ביכר\"דיכל \"–הרורב תחא הרטמ ,הדובע לש הלודג תומכ השוע אלו הזל הז דואמ םירושק תוירחא ימוחת. ▪ ךומנ דומיצ ןורקיע לש הרימשל םג רזועש ןורקיע(מ תונורקע םג ריכזמSOLID?) ▪הכומנ תודיכלל המגוד :תוריש תקלחמ/god class ▪ההובג תודיכלל המגוד: לוהינל תולועפ קרו ךא הליכמו תרשוקמ המישר תשמממה הקלחמ המישרה 25262728293031323334 תולאש? 35 תונכתןכתוהחנומםימצע UML 1 תינכותב המ? ▪תושירד ךמסמ ▪ םישרתuse-case ▪ םישרתsequnce ▪תוקלחמ םישרת 2 תושירד ךמסמ תגצה ▪הוולנ ךמסמ 3 Unified Modeling Language ▪תילאוזיו השחמהל הפש ,טרפמ תביתכ , חותיפה יבלשב יאוולה ירצומ לש דועיתו היינב םינושה. ▪ ןווכומOOP ▪םינוש םיגוסמ םימישרת הליכמ: ▪ םייטטס(םיינבמ )– לשמלclass diagram, object diagram ▪ םיימאניד(םייתוגהנתה )–use case diagram, state machine diagramדועו. 45 ב ןונכת יבלשUML ▪ שומיש ישיחרת רידגנ(use case diagram) ▪תכרעמה לש םוחתה תא םיהזמ ובש ילאוטפסנוק לדומ הנבנ ▪ היצקארטניא ימישרת רידגנ(sequence diagram, communication diagram) ▪ תוקלחמ לש םישרת תרדגה(class diagram) 6 המגוד(1 )–use cases–קנב תייצקילפא ▪םינקחשה ימ? 7 המגוד(1 )–use cases–קנב תייצקילפא ▪םינקחשה ימ? 8 המגוד(1 )–use cases–קנב תייצקילפא ▪ וליאusecasesםינויגהקנב תייצקילפאל? 9 Association 10 Include 11 Extend 12 What is the difference ? דועבתמיצעשםייניעהניהקלחךילהתמתושטעתהה, רמול\"excuse me\"אוהלהוניסומינאלובייחמ. 13 Extension points be polite Putting it all together 14 Extension points Failed login Inheritance 15 המגוד(2 )-Sequence Diagram –\" תכישמ טמופסכהמ ףסכ?\" ▪וז המגודב , עצבמ םדא וב שיחרת תראתמה המרגאיד רייצנטמופסכהמ ףסכ תכישמ 1617 Sequence Diagram 18 המגוד(3 )–Class Diagram–תויח ןג 1920212223Super ClassSub Class Abstraction! 2425 Whole 2627 Multiplicity ▪ 0..1 zero to one (optional) ▪n specific number ▪0..* zero to many ▪1..* one to many ▪m..n – specific range 28 תוקלחמ םישרת 29 תולאש? 30 ןוינכטה– לארשיל יגולונכט ןוכמ למשח תסדנהל הטלוקפה 046271 - םימצע החנומ ןכתו תונכת תושירד ךמסמ :רזע 1 \"שת ףרוח ף השמ ריאי י\"ע בתכנ תושירד חותינ ךמסמ רוציל אוה תושירדה חותינ בלש לש ותרטמ (requirements document חוקלה לש ויתושירד תא אטבמה ) דחו רורב ןפואב הנכותהמ- סיסב הווהמ הז ךמסמ .יעמשמ חוקלה םע הזוחל סיסב םג תווהל לוכי אוהו ןכתה בלשל הלבק תוקידבלו . ךמסמ ל ךירצ תושירדה :לולכ • ( תוידוקפת תושירדfunctional requirements) – ,הנכותה קפסת םתואש םיתורישה .םימיוסמ םיבצמב גהנתת דציכו םינוש םיטלקל ביגת דציכ ,רמולכ חותינב רוזעל ידכ ( םישיחרת ראתל גוהנ ,תוידוקפתה תושירדהscenariosיצקארטניא לש םינוש ) ה ןיב וא .הנכותל שמתשמ תמיוסמ הרטמל שמתשמה תא ליבומה םישיחרת ףס ארקנ use caseה . תושירדל תוכירצ תוידוקפתה לכו םישיחרת םגו םיליגר םישיחרת םג ל .התביבסו תכרעמה לש וא שמתשמה לש ,תואיגש לש הרקמב • ד ( תוידוקפת אל תושירnon-functional requirements) – לע םינוש םיצוליא תושירדה יצוליא ןוגכ ,תוידוקפתה ( םיעוציבםוקמ וא ןמז) , ,שומיש תוחונ ( תונימא ,המגודל ןמז )תוליפנ ןיב עצוממ ואהנכותה חותיפ ךילהת לע םיצוליא . • הנכותב םיירשפא םיידיתע םייונישו תובחרה לש יוהיז– בלשב םירזוע הלא םינותנ שי וב ,ןכתה ךרוצשימג ןיב רשפתהל םיבר םירקמב.תובכרומל תו :תידוקפת תושירדל המגוד On first use, the system shall create a new database and initialize it with no orders. The user shall be able to add a new order to the database. The system shall produce an audio indication on every incorrect user input. :תידוקפת אל תושירדל המגוד The system response time to any user input, including incorrect user input, shall be less than 5 seconds. All data communication to/from the system shall be carried out over the Internet. The system shall not disclose any personal information about the customers apart from their name and reference number to the operator of the system. תויהל ךירצ תושירדה ךמסמ:תואבה תונוכתה לעב • ( ףקתvalid )– תושירדל רתויב םימיאתמה םידוקפתה תא ראתל ךירצ תושירדה ךמסמ .חוקלה • לשם (complete) – תושירדה ךמסמ לעתושירד לכ תא ליכהל .חוקלה • ( יעמשמ דחunambiguous )– דח ךמסמ- םיקיודמ ,םירצק םיטפשמ ליכמ יעמשמ .בטיה םירדגומ תויהל םיבייח םירורב אל תויהל םייושעש םיחנומ .םירורבו • ( יבקעconsistent) – דח תויהל ידכ- .תוריתס ליכהל תושירדה ךמסמל רוסא ,יעמשמ • ( ישעמreal ) – רב תויהל ךירצ תושירדה ךמסמ-םושיי ןמזה תולבגמב בשחתהב .ביצקתהו תושירד ךמסמ :רזע 2 • ( תומיאל ןתינverifiable )– הקידבל תונתינ תויהל ךמסמב תואצמנה תושירדה לע ךרדב יהשלכ תישעמ . • לק ( יונישלmodifiable) – תורתוימ תורזח עונמל שי ,םייוניש עוציב לע לקהל ידכ רדסו תוינבמ לע דיפקהלו ילכב רזעיהל ןתינ ךכ םשל .CASE (Computer Aided Software Engineering .) • ( הביקעל ןתינtraceable )– ןתינש ךכ ,תדרפנ תרפסוממ הקספב תויהל הכירצ השירד לכ הילא סחייתהל היהי .קיודמב ילכ ,ןאכ םגCASE ונתרזעל םיאב . :תויוגש תושירדל המגוד The system shall be fast and reliable. Every user will be assigned a unique user_id which can be any number. All user interaction with the system shall occur by means of a graphical user interface. In case of any error, an error message shall be displayed in a textual command window. ןנובתנ , ,המגוד רותב לע תכרעמ רובע תושירד ךמסממ קלח רזעל ןיב תושיגפ תעיבק םישמתשמ : The Meeting Scheduler 1. Introduction 1.1. The Meeting Scheduler (henceforth called the system) is a software application to assist in the scheduling of meetings among individuals whose schedules are available in an online calendar . 1.2. Focus groups conducted by our marketing department show that users of time management packages would respond favorably to such a system that helps them satisfy the following objectives: 1.2.1. Reduce effort and frustration in scheduling meetings, especially by reducing telephone and email. 1.2.2. Reduce frequency of unavailable resources needed for meetings (e.g. Audio/Video equipment). 1.2.3. Reduce stress of rushing from one place to another. 1.2.4. Minimize fragmentation of the working day and unnecessary interruptions . 1.2.5. Increase the effective availability of individuals for collaborative activities. 1.2.6. Increase awareness among those concerned of meeting information such as schedule updates and preparation requirements . 1.2.7. Maximize room utilization during the work day . 1.2.8. Preserved individuals’ privacy concerning aspects of their schedules that they did not want published. 2. Overall Description 2.1. The system shall provide a graphical user interface (GUI) as part of the user’s working desktop environment, which will be used for calling meetings and notifications. 2.2. Regular schedule information will continue to be serviced using online calendars. תושירד ךמסמ :רזע 3 2.2.1. Several unconnected online calendar systems may be accessible from the system through a standard calendar interface protocol for the purposes of querying any person’s or room’s schedule and making reservations. 2.3. Changes in the user population and configuration of rooms are made by administrators. 2.4. The administrator is also responsible for entering customization information into the system, such as the standard working day for the user organization . 3. Functional Requirements 3.1. Scheduling a meeting 3.1.1. A person calling a meeting (henceforth called the Initiator) will enter information into the system about the desired meeting, such as but not limited to its proposed purpose, earliest and latest times at which it can usefully be held, the names of desired attendees, and an anticipated duration. 3.1.1.1. The system shall provide defaults for missing elements. 3.1.2. When the Initiator instructs the system to schedule the meeting for which this information has been entered, the system shall obtain from those online calendars that contain schedule data for the desired attendees those attendees’ free times during the interval between the earliest and latest times stipulated by the Initiator. The system shall choose the earliest feasible time for the meeting that meets the constraints specified by the Initiator and the free times returned by the online calendars . 3.1.3. When the system chooses a time for a meeting, it shall send queries to the online calendars for all the rooms in which the meeting could be held to ascertain which rooms are vacant during the selected time. 3.1.3.1. If no rooms are vacant during the selected time, the system shall choose the next feasible time . 3.1.3.2. The system shall choose which room should be the venue for the meeting from the set of rooms free at the selected time by a room-choice algorithm that shall take account of the size of the room given the number of invitees to the meeting, and the convenience of the room for the invitees. 3.1.4. If no feasible time exists for the meeting that meets the Initiator’s constraints and the online calendars schedule data for the attendees, or no room is free during any of the feasible times, the system shall present the Initiator with a selection of choices including the following: (a) Schedule the meeting based on a subset of the originally named attendees . (b) Put the latest time for the meeting back further into the future . (c) Abandon the scheduling of this meeting. 3.1.5. If either 3.1.4 (a) or (b) is chosen, the system shall obtain from the online calendars in question further schedule data and choose the best feasible time as described above. If no feasible time is found again, the system shall present the Initiator with the same choices again . 3.1.6. If there is at least one feasible time and the system chooses a time for the meeting, the system shall display appropriate notification messages to the Initiator and all the invited attendees. תושירד ךמסמ :רזע 4 3.1.6.1. The wording of the message shall depend on whether the recipient is (a) the Initiator (who knows about the meeting and is being informed that it has been scheduled). (b) an invited participant (who is learning about the meeting for the first time and who is being “strongly” invited to attend). (c) an invited participant who was not in the subset of people whose schedules were checked when the Initiator chose option (a) above (such invitees being “weakly” invited, as they are known to be busy at the chosen time). 3.1.7. In addition to notifying the Initiator and invited attendees, the system shall send update messages to the online calendars of the invited attendees and the room chosen as the venue, these updates representing the reservation of the chosen time period for the meeting. 3.2. Canceling a meeting 3.2.1. Only the Initiator of a meeting may normally cancel it (but see 3.4.). 3.2.2. When the Initiator instructs the system to cancel a meeting that has not yet been scheduled, the system shall abort any scheduling actions that it has started (e.g. querying online calendars), shall delete all references to the meeting, and shall display a confirmation message to the Initiator . 3.2.3. If the meeting to be canceled has already been scheduled, the system shall behave as specified in 3.2.2 and shall additionally do the following: 3.2.3.1. Display notification messages to the invited attendees informing them of the cancelation . 3.2.3.2. Send update messages to the online calendars for the attendees and the room chosen as the venue, these update message representing the freeing of the time previously reserved for the meeting . … … 4. Non-Functional Requirements 4.1. Performance 4.1.1. If a feasible time and venue exists for a meeting, the system shall choose a time and venue and display a notification to the Initiator in less than half the time it would take for the Initiator to call one attendee . 4.1.2. The system shall show no visible deterioration in response time as the number of persons and rooms in the system increases . 4.1.3. The system shall load as quickly as comparable productivity tools on whatever environment it is running in. 4.2. Portability 4.2.1. The system will be implemented on a platform that allows easy re-hosting on different hardware and operating system . … … 5. Future Requirements תושירד ךמסמ :רזע 5 5.1. Support for virtual meetings (involving videoconferencing and teleconferencing technology, multiple time zones, and resources that go beyond traditional Audio/Video equipment). 5.2. Support for types of attendees at meetings, so that some attendees are more important than others for that meeting and their schedules therefore take priority. 5.3. Support for scheduling meetings involving people who do not have an accessible online calendar. Information about such “external” invitees’ schedules will be provided by the Initiator, although not necessarily immediately at the time of calling the meeting . תונכתןכתוהחנומםימצע BEHAVIORAL DESIGN PATTERNS 1 Design Patterns ▪ הנכות ןכת–\"הסדנה םע תונמא .\"תוטלחה עוציב לש דואמ בכרומ בלש ▪הזל הז םידגונמ םיתעלש םיבר םילוקישב בשחתהל ךירצ ▪תושימג ,תוטשפ ,םיעוציב ,דועו םייק רבכש םישומימה ףסוא ▪םירחא לש םנויסינב שמתשהל הצרנ ▪ תוצופנ ןכת תויעב רובע תונורתפ ףסוא =Design Patterns 2 Design Patterns – with more detail ▪ םייטנגלא ןכת תונורתפ ףסואינווכומOOP ▪ לכDesign Pattern תנמ לע הז םע הז םירשקתמה םיטקייבואו תוקלחמ לש רואית אוה והשלכ יטרפ רשקהב תיללכ ןכת תייעב רותפל ▪םינושה תונורתפה םע תוסנתה רחאל ,םהב שמתשהל ןתינ םהב םיבצמ תוהזל ןתינ ▪ המ זאצאקה?' ▪דחא דצמ ,דוקב רזוחה שומישה תאו הנכותה תושימג תא רפשל םייושע .רתוי ההובג הטשפה תמר םירצוי ▪ינש דצמ ,תובכרומ 3 יגוסDesign Patterns- הריצי(Creational ) ▪םיטקייבוא תריצי לש ךילהתב םירושק .DP תריצי ךילהתמ קלח םיחוד ולא הקלחמ תתל וא רחא טקייבואל טקייבואה . ▪םיטקייבואה תריציב תולת יא םירציימ . ▪Factory Method, Prototype, Builder, Singleton, Abstract Factory 4 יגוסDesign Patterns- תוינבמ(Structural) ▪ הנבמב םיטקייבואו תוקלחמ לש הבכרהב םיקסועםייוסמ . ▪ ביכרהל תנמ לע השרוהב םישמתשמ וא םיטקייבוא ביכרהל םיכרד םיראתמ תוקלחמ . ▪Bridge, Adapter, Proxy, Flyweight, Facade, Decorator, Composite 5 יגוס- Design Patterns תוגהנתה(Behavioral) ▪ תאו הז םע הז םירשקתמ םיטקייבואו תוקלחמ ןהבש םיכרדה תא םינייפאמ םימצע ןיבל םניב תוירחאה תא םיקלחמ ןהבש םיכרדה . ▪ דחא ףאש הלטמ עוציבל הלועפ תפתשמ םיטקייבוא תצובק דציכ םיראתמ דבל עצבל לוכי אל םיטקייבואהמ , ראתל ידכ השרוהב םישמתשמ םהש וא םתירוגלאה תלועפ תעב תועדוה רבעמ. ▪Interpreter, Command, Chain of Responsibility, Visitor, Strategy, Observer, Template Method, State, Memento, Mediator, Iterator 6 Observer ▪Behavioral design pattern ▪היעבה:םיטקייבוא רפסמ ,םיפיקשמ הל ארקנ , רשאכ תיטמוטוא םמצע תא ןכדעל םיכירצ והשלכ טקייבוא לש ובצמב יוניש לח ,טקייבוסה ול ארקנש ▪ עוריא לע םיפיקשמה םיטקייבואה תא דירפהל רשפאמםייוסמ םה וילעש טקייבוסהמ ובצמב יוניש תובקעב עוריאה תא רצוישו םיפיקשמ. ▪ םיפיקשמ ריסהלו ףיסוהל רשפאמcטקייבוסב םייוניש עוציבב ךרוצ אלל ימאניד ןפוא ▪Hollywood Principle–Don’t call us, we’ll call you 78 Observer(2) ▪ב שמתשנObserverםיאבה םירקמהמ דחאב: ▪ שי םיטקייבוא המכ שארמ תעדל ןתינ אלו םירחא םיטקייבואב יוניש שרוד דחא טקייבואב יוניש רשאכ תונשל ▪ עגונב תוחנה חיניש ילב יהשלכ העדוה םירחא םיטקייבואל עידוהל לגוסמ תויהל ךירצ טקייבוא רשאכ העדוהה תא עידוהל ךירצ אוה םהלש םיטקייבואל. ▪םינוש םיטביה שי הטשפהל רשאכ , הלאה םיטביההמ דחא לכ לש ןכת רשאכו ינשב יולת םהמ דחאש רתוי הבר תוירלודומ רשפאי םינוש םיטקייבואכ. 9 Observer(3) 10 ב שומיש תעב תובושח תודוקנObserver ▪ השענו ילמינימ אוה טקייבוסה ןיבל טקייבוסה לע םיפיקשמה ןיב תולתה קשממ תמרב דבלב .ןכל , לש םידרפנו םינוש םיקלחל םיכייש תויהל םילוכי טקייבוסהו םיפיקשמה תכרעמה. ▪םיפיקשמה םיטקייבואה לכל ץפומ טקייבוסב בצמ יוניש . תצפה לע יארחא טקייבוסה םה ימ אוה םימייק ולאכ המכב ןיינעתמ וניאו העדוהה . ▪תיבושיח הניחבמ הדבכ תויהל הלולע טקייבוס ןוכדע תלועפ . יושע קובקבה ראווצ רותיא השק תויהל . 11 שומימ ▪ע םיפיקשמה םיטקייבואה רחא בוקעל לוכי טקייבוסה\"םינוש םיסופיטמ םילכמב שומיש י ▪ טקייבואםייוסמדחא טקייבוסמ רתוי לע ףיקשהל לוכי .הז הרקמב , תא ביחרהל שי תדותמupdate()התוא ליעפהש טקייבוסה תוהז לע עדימ ריבעתש ךכ ▪ע תוליעיה תא רפשל ןתינ\"םינוש םיגוסמ םיפיקשמ םיטקייבוס תרדגה י , בצמב יונישה יפל םתוא ןיינעמש ▪ הדותמהnotify() ןפואב וא טקייבוסה בצמ יוניש רחאל תיטמוטוא תלעפומ תויהל הלוכי ע שרופמ \"יונישה תא עצבמה טקייבוא . ▪השיג לכ לש ןורתיה המ? ▪ שממל ןתינObserver תרזעבpush/pull model 12 המגוד 13 המגוד(3) 14 המגוד(2) 15 המגוד(3) 16 Java GUI Events Most of the GUI widgets can generate events Mouse move/drag/click, button press, button release Keyboard key press or release Window resize/minimize/restore/close … Handled using the Observer pattern: 17 Event Objects A Java GUI event is represented by an event object Superclass is AWTEvent Some subclasses: ActionEvent – GUI-button press KeyEvent – keyboard MouseEvent – mouse move/drag/click/button Event objects contain information about the event UI object that triggered the event Other information depending on event. Examples: ActionEvent – text string from a button MouseEvent – mouse coordinates 18 Event Listeners Event listeners must implement the proper interface KeyListener, ActionListener, MouseListener (buttons), MouseMotionListener (move/drag), … Or extend the appropriate library abstract class that provides empty implementations of the interface methods When an event occurs, the appropriate method specified in the interface is called actionPerformed, keyPressed, mouseClicked, mouseDragged, … An event object is passed as a parameter to the event listener method 19 Event Listeners In case of a button, we can define a class that is used only once to create a listener for that button But why a full-scale class when all we want is to create a method to be called after a button click? A more convenient shortcut: anonymous inner classes Define a new class directly in the new expression that creates an object of the (new) anonymous inner class Warning: frightening syntax ahead 20 Java GUI Listeners 21 JButton helloButton = new JButton(); helloButton.setText(“Write Hello\"); panel.add(helloButton); // constructs an action listener and adds it to helloButton helloButton.addActionListener( new ActionListener() { // defines what happens on a click public void actionPerformed(ActionEvent e) { textField.setText(\"Hello!\"); } } ); 22 Strategy ▪Behavioral design pattern ▪םימתירוגלא לש החפשמ רידגמ , םהל עצבמסומיכ ףילחהל רשפאמ ךכוםהניב הצירה ןמזב תולקב .וב שמתשמש ימל םתירוגלאה ןיב תולת רסוח רתוי. 23 ב שמתשהל ןתינStrategyםיאבה םירקמב: ▪ וזל וז תורושק תובר תוקלחמ רשאכתונושןהלש תוגהנתהב קר ▪ תולעב לבא תוגהנתה התוא תולעב םתירוגלא ותוא לש תונוש תואסרגל םיקוקז רשאכ םינוש םוקמ וא ןמז יעוציב ▪יאנת טפשמכ תועיפומה תויפולח תויוגהנתה הברה הליכמ הקלחמ רשאכ . ןתינ הז הרקמב הנבמל יאנתה יטפשמ תא בסהלobject oriented תרזעבStrategy 2425 המגוד ▪In-place Sort 2627 שומימה לע תופסונ תורעה ▪ לש םישומימהStrategyמ םינותנל םיקוקז תויהל םייושעContext . ▪ל םירטמרפכ םתוא ריבעהל ןתינStrategy(לש שומימהש םירתוימ םינותנ םג ריבענש ןכתיי לבאStrategy ךירצ אל) ▪ תא ריבעהל ןתינContextל רטמרפכ ומצעStrategyש ואStrategy קיזחמסנרפר לש םיאתמה עפומל Context .ןורתיפבהז ,Strategy לש תודותמ ליעפהל לוכיContextםירסחה םינותנה תא שקבלו. ▪ןאכ היעבה המ ?זמר :GRASP ▪ב לדחמ תרירב תוגהנתה תמייקContext .שומימה תא טשפל ידכ , תנכתל הז הרקמב ןתינ תאContext לש שומימ ול שי םא קודביש ךכStrategy אל םאו- תרירב תוגהנתה תא עצבי לדחמה. 28 ב שומישה לע תורעה רפסמStrategy ▪ לכו םימתירוגלא לש החפשמ לש השרוה תיכרריה רוציל ןתינ\"גלטקל \"תולקב םתוא ▪ ינשהמ דחא םילדבנ םימתירוגלא וב בצמ\"תצקב .\"Template Method ▪גלאל תעדומ תויהל תבייח חוקלה תוקלחמ 'םהניב רוחבל תלגוסמ תויהלו םינושה. ▪Strategy design patternל ההז הנבמ לעב אוהBridge design pattern . אוה לדבהה רותפל םיסנמ התואש היעבב .Strategy ןיב השימג הפלחה רשפאמו תוגהנתהב זכרתמ גלאה ' וליאוBridgeהלש םישומימל הטשפה ןיב תולת רסוח רשפאמו הנבמב זכרתמ. ▪הרעה :ב שומישStrategyתכרעמב םיטקייבואה רפסמ תא לידגמ . אוה יפולח ןורתיפ גלא לכל רוציל ' טקייבוא\"ןוונמ \"בצמ אלל . הקלחמב רמשיי בצמהContext . הז ןורתיפ ארקנFlyweigth design pattern. 2930 Java GUI Layouts ▪GUI Layout managers in Java implement the Strategy pattern ▪ Each LayoutManager object has an algorithm to position components 31 interface LayoutManager { // Lays out the specified container public void layoutContainer(Container container); … } class BorderLayout implements LayoutManager {...} class FlowLayout implements LayoutManager {...} class GridLayout implements LayoutManager {...} Java GUI Layouts ▪Set layout manager in constructor: ▪Change layout after container has been created: 32 JPanel panel = new JPanel(new BorderLayout()); Container contentPane = frame.getContentPane(); contentPane.setLayout(new FlowLayout()); 33 תולאש? 3435363738394041424344 תונכתןכתוהחנומםימצע STRUCTURAL AND CREATIONAL DESIGN PATTERNS 1 Structural Design Pattern ▪design pattern אטבל ידכ ץע לש הנבמב ותוא םיביכרמה םיטקייבואה תא רדסמ רשא ויקלחל םלשה ןיב היכרריה ▪ הרוצב םירחא םיטקייבוא לש הבכרה אוהש טקייבואלו טושפ טקייבואל סחייתהל רשפאמ הדיחא 2 המגוד–תיפארג הנכות ▪םיביכרב שמתשהל לוכי שמתשמה/ םילודגו םיבכרומ םיביכר רוציל תנמ לע םיטושפ תורוצ רתוי. ▪םיטושפ םיביכר לע םיעצבמש תולועפה/תוהז ןה םיבכרומ ▪ןכל ,ןפואה ותואב םיבכרומ םיביכרלו םיטושפ םיביכרל סחייתיש דוק רוציל הצרנ. ▪ןורתפה:Composite! 3 Composite שמתשהל הצרנםיאבה םירקמהמ דחאב: .1םיטקייבוא ןיב ויקלחו םלש לש היכרריה גצייל םיצור רשאכ .2 ןיבל םיטקייבוא לש הבכרה םהש םיטקייבואה ןיב לדבההמ םלעתהל םיצור רשאכ ולאכ םניאש םיטקייבוא . הדיחא תוסחייתה רשפאמ 4 לש הנבמComposite 5 המגוד–תיפארג הנכות 6 הז הרקמב ץעה הנבמ 7 Composite– שומימ(1) ▪ ןב לכל ףיסוהל ןתינreference הלוהינ לעו היכרריהב רבעמה תא לקהל תנמ לע ויבאל (יתמ? ) רידגנ בורלreferenceב הזComponent. ▪םוקמב ךוסחל ידכ , םיטקייבוא ףתשל םיתעל הצרנ- > טקייבואל רשפאל םיוסמ תויהל היכרריהב דחא םוקממ רתויב . ▪ הלוכי רצוויהלתועמשמ וד ,יתמ? 8 Composite– שומימ(2) ▪דיחא ןפואב היכרריהב םיטקייבואה לכל סחייתהל לכות חוקל תקלחמש ידכ , םיניינועמ ונא תא רוצילComponent תוצוחנה תולועפ רתויש המכ ליכיש רשפאה לככ בחר טרפמ םע לCompositeלו-Leaf . שומימ רוצינ בורליביטלופידולא תולועפמ קלחל , תוקלחמה תתש סורדל תולוכי .תושיג יתש: ▪ב שומימה-Component יטנוולר היהיל-Leaf(ןכלו ,ב הסירד השעתComposite.) םהוזמ קשממ ןאכ שי םיקשממה תדרפה ןורקיע תא רתוסה ▪ רידגהל הלא תולועפב-Compositeדבלב .חוקלה תקלחמב תודיחא םידבאמ .לידבהל תנמ לע , רוצינ םשב הדותמisComposite()ינאילוב סופיט הריזחמש . הלש לדחמה תרירב היהתfalse ,בו-Composite ריזחנו התוא סורדנtrue. 9 Composite– שומימ(3) ▪ תא לכמהםינבה תא ליכמש , רידגהל שיב-Composite אלוב-Component אל תנמ לע תרתוימ הרוקת ףיסוהלל-Leaf . ▪ תפשבJava ,יטמוטוא לבז ףוסיא ךילהת םייק .הזכ ןונגנמ ןהב םייק אלש תורחא תופשב , גואדל יוצרש-Compositeתררחושמ איה רשאכ ולש םינבה רורחשל תיארחא היהת. 10 המגוד 11 המגוד 12 המגוד 13 המגוד 14 יגוסDesign Patterns- הריצי(Creational ) ▪םיטקייבוא תריצי לש ךילהתב םירושק .DP תריצי ךילהתמ קלח םיחוד ולא הקלחמ תתל וא רחא טקייבואל טקייבואה . ▪םיטקייבואה תריציב תולת יא םירציימ . ▪Factory Method, Prototype, Builder, Singleton, Abstract Factory 15 Factory Method ▪ אוה םגcreational design pattern ▪םיטקייבוא תריציל קשממ רידגהל רשפאמ . ולא ןהו תוקלחמה תתב תישענ המצע הריציה עפומ רוציל קוידב הקלחמ וזיאל תוטילחמש. ▪ תוקלחמ רושקל ךרוצה תא ריסמ תויפיצפסדוקל. ▪המגודל : תקלחמApplication 16 תקלחמApplication 17 ב שומישFactory Method–יתמ? ▪א הרקמ' :רוציל הכירצ איהש םיטקייבואה סופיט תא תופצל הלוכי אל הקלחמ ▪ב הרקמ' : איהש םיטקייבואה סופיט תא ונייצי הלש תוקלחמה תתש תניינועמ הקלחמ תרצוי 18 שומימ ▪ לש שומימהfactoryMethod()תטשפומ תויהל היושע , תישחומ וא– שומימ קפוסי הב לדחמה תרירב . ▪הרעה : הדותמל ריבעהל ןתינfactoryMethod() טקייבוא סופיט הזיא ןייצמה רטמרפ רוציל 19 המגוד 20 המגוד(2) 21","libVersion":"0.2.2","langs":""}